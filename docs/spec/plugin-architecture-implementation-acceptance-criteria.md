# ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å®Ÿè£… å—ã‘å…¥ã‚ŒåŸºæº–

## æ¦‚è¦

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ hierarchidb ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å®Ÿè£…æ©Ÿèƒ½ã®å—ã‘å…¥ã‚ŒåŸºæº–ã¨ãƒ†ã‚¹ãƒˆé …ç›®ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚

## æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆåŸºæº–

### REQ-001: NodeTypeRegistry ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³å®Ÿè£…ã®å—ã‘å…¥ã‚ŒåŸºæº– ğŸŸ¢

**Givenï¼ˆå‰ææ¡ä»¶ï¼‰**:
- NodeTypeRegistry ã‚¯ãƒ©ã‚¹ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹
- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã‚‹

**Whenï¼ˆå®Ÿè¡Œæ¡ä»¶ï¼‰**:
- NodeTypeRegistry.getInstance() ã‚’è¤‡æ•°å›å‘¼ã³å‡ºã™
- ç•°ãªã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‹ã‚‰ getInstance() ã‚’å‘¼ã³å‡ºã™

**Thenï¼ˆæœŸå¾…çµæœï¼‰**:
- å¸¸ã«åŒä¸€ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒè¿”ã•ã‚Œã‚‹
- ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®å‚ç…§ãŒä¸€è‡´ã™ã‚‹ï¼ˆ===ï¼‰

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹**:
- [ ] æ­£å¸¸ç³»: è¤‡æ•°å›ã® getInstance() å‘¼ã³å‡ºã—ã§åŒä¸€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç¢ºèª
- [ ] ç•°å¸¸ç³»: ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®ç›´æ¥å‘¼ã³å‡ºã—ã§ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿç¢ºèª
- [ ] å¢ƒç•Œå€¤: ä¸¦è¡Œã‚¢ã‚¯ã‚»ã‚¹æ™‚ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä¸€æ„æ€§ç¢ºèª

### REQ-002: UnifiedPluginDefinition ã«ã‚ˆã‚‹ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å®šç¾©ã®å—ã‘å…¥ã‚ŒåŸºæº– ğŸŸ¢

**Givenï¼ˆå‰ææ¡ä»¶ï¼‰**:
- UnifiedPluginDefinition ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹
- å¿…è¦ãªå‹å®šç¾©ãŒã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹

**Whenï¼ˆå®Ÿè¡Œæ¡ä»¶ï¼‰**:
- UnifiedPluginDefinition ã‚’å®Ÿè£…ã—ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½œæˆ
- registerPlugin() ãƒ¡ã‚½ãƒƒãƒ‰ã§ç™»éŒ²

**Thenï¼ˆæœŸå¾…çµæœï¼‰**:
- TypeScript ã®å‹ãƒã‚§ãƒƒã‚¯ãŒæˆåŠŸ
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒæ­£å¸¸ã«ç™»éŒ²ã•ã‚Œã‚‹
- getDefinition() ã§å–å¾—å¯èƒ½

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹**:
- [ ] æ­£å¸¸ç³»: å®Œå…¨ãª UnifiedPluginDefinition ã®ç™»éŒ²æˆåŠŸ
- [ ] ç•°å¸¸ç³»: å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ¬ è½æ™‚ã®ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ç¢ºèª
- [ ] å¢ƒç•Œå€¤: æœ€å°é™ã®å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã¿ã§ã®ç™»éŒ²æˆåŠŸ

### REQ-003: ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ•ãƒƒã‚¯å®Ÿè¡Œã®å—ã‘å…¥ã‚ŒåŸºæº– ğŸŸ¢

**Givenï¼ˆå‰ææ¡ä»¶ï¼‰**:
- ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ•ãƒƒã‚¯ã‚’å®šç¾©ã—ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒç™»éŒ²æ¸ˆã¿
- NodeLifecycleManager ãŒåˆæœŸåŒ–æ¸ˆã¿

**Whenï¼ˆå®Ÿè¡Œæ¡ä»¶ï¼‰**:
- ãƒãƒ¼ãƒ‰ã®ä½œæˆ/æ›´æ–°/å‰Šé™¤æ“ä½œã‚’å®Ÿè¡Œ
- å„ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒã‚¤ãƒ³ãƒˆã«åˆ°é”

**Thenï¼ˆæœŸå¾…çµæœï¼‰**:
- beforeCreate â†’ ä½œæˆå‡¦ç† â†’ afterCreate ã®é †åºã§å®Ÿè¡Œ
- beforeUpdate â†’ æ›´æ–°å‡¦ç† â†’ afterUpdate ã®é †åºã§å®Ÿè¡Œ
- beforeDelete â†’ å‰Šé™¤å‡¦ç† â†’ afterDelete ã®é †åºã§å®Ÿè¡Œ
- è­¦å‘Šç™ºç”Ÿæ™‚ã¯ console.warn ã§å‡ºåŠ›ã—å‡¦ç†ç¶™ç¶š
- ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã¯æ“ä½œå…¨ä½“ã‚’ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹**:
- [ ] æ­£å¸¸ç³»: å…¨ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ•ãƒƒã‚¯ã®é †åºç¢ºèª
- [ ] è­¦å‘Šç³»: ãƒ•ãƒƒã‚¯å†…è­¦å‘Šæ™‚ã®ç¶™ç¶šå‡¦ç†ç¢ºèª
- [ ] ç•°å¸¸ç³»: ãƒ•ãƒƒã‚¯å†…ã‚¨ãƒ©ãƒ¼æ™‚ã®ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ç¢ºèª
- [ ] å¢ƒç•Œå€¤: ãƒ•ãƒƒã‚¯æœªå®šç¾©æ™‚ã®æ­£å¸¸å‹•ä½œç¢ºèª

### REQ-004: EntityHandler CRUD æ“ä½œã®å—ã‘å…¥ã‚ŒåŸºæº– ğŸŸ¢

**Givenï¼ˆå‰ææ¡ä»¶ï¼‰**:
- EntityHandler ã‚’å®Ÿè£…ã—ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒç™»éŒ²æ¸ˆã¿
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãŒç¢ºç«‹æ¸ˆã¿

**Whenï¼ˆå®Ÿè¡Œæ¡ä»¶ï¼‰**:
- createEntity() ã§ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ä½œæˆ
- getEntity() ã§ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£å–å¾—
- updateEntity() ã§ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£æ›´æ–°
- deleteEntity() ã§ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£å‰Šé™¤

**Thenï¼ˆæœŸå¾…çµæœï¼‰**:
- å„æ“ä½œãŒæˆåŠŸã—ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«åæ˜ ã•ã‚Œã‚‹
- ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã® version ãŒé©åˆ‡ã«æ›´æ–°ã•ã‚Œã‚‹
- timestamp ãŒè‡ªå‹•æ›´æ–°ã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹**:
- [ ] æ­£å¸¸ç³»: CRUD å…¨æ“ä½œã®æˆåŠŸç¢ºèª
- [ ] ç•°å¸¸ç³»: å­˜åœ¨ã—ãªã„ nodeId ã§ã®æ“ä½œã‚¨ãƒ©ãƒ¼ç¢ºèª
- [ ] å¢ƒç•Œå€¤: å¤§é‡ãƒ‡ãƒ¼ã‚¿ã§ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç¢ºèª

### REQ-101: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ä¾å­˜é–¢ä¿‚ãƒã‚§ãƒƒã‚¯ã®å—ã‘å…¥ã‚ŒåŸºæº– ğŸŸ¢

**Givenï¼ˆå‰ææ¡ä»¶ï¼‰**:
- dependencies ã‚’å®šç¾©ã—ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒå­˜åœ¨
- ä¾å­˜å…ˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ç™»éŒ²çŠ¶æ…‹ãŒæ§˜ã€…

**Whenï¼ˆå®Ÿè¡Œæ¡ä»¶ï¼‰**:
- ä¾å­˜é–¢ä¿‚ã®ã‚ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ç™»éŒ²
- ä¾å­˜å…ˆãŒæœªç™»éŒ²ã®çŠ¶æ…‹ã§ç™»éŒ²è©¦è¡Œ

**Thenï¼ˆæœŸå¾…çµæœï¼‰**:
- ä¾å­˜å…ˆãŒç™»éŒ²æ¸ˆã¿ã®å ´åˆã€æ­£å¸¸ã«ç™»éŒ²
- ä¾å­˜å…ˆãŒæœªç™»éŒ²ã®å ´åˆã€ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹**:
- [ ] æ­£å¸¸ç³»: ä¾å­˜å…ˆç™»éŒ²æ¸ˆã¿ã§ã®æˆåŠŸç¢ºèª
- [ ] ç•°å¸¸ç³»: ä¾å­˜å…ˆæœªç™»éŒ²ã§ã®ã‚¨ãƒ©ãƒ¼ç¢ºèª
- [ ] å¢ƒç•Œå€¤: å¾ªç’°ä¾å­˜ã®æ¤œå‡ºç¢ºèª

### REQ-103: ãƒ—ãƒ©ã‚¤ã‚ªãƒªãƒ†ã‚£ã«ã‚ˆã‚‹åˆæœŸåŒ–é †åºã®å—ã‘å…¥ã‚ŒåŸºæº– ğŸŸ¢

**Givenï¼ˆå‰ææ¡ä»¶ï¼‰**:
- ç•°ãªã‚‹ priority å€¤ã‚’æŒã¤è¤‡æ•°ãƒ—ãƒ©ã‚°ã‚¤ãƒ³
- pluginConfig ã§ priority æŒ‡å®š

**Whenï¼ˆå®Ÿè¡Œæ¡ä»¶ï¼‰**:
- initializePlugins() ã‚’å®Ÿè¡Œ
- å„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã® initialize() ãŒå‘¼ã°ã‚Œã‚‹

**Thenï¼ˆæœŸå¾…çµæœï¼‰**:
- priority å€¤ã®æ˜‡é †ï¼ˆ10â†’20â†’30â†’40ï¼‰ã§åˆæœŸåŒ–
- åŒä¸€ priority ã®å ´åˆã¯ç™»éŒ²é †

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹**:
- [ ] æ­£å¸¸ç³»: priority é †ã§ã®åˆæœŸåŒ–ç¢ºèª
- [ ] ç•°å¸¸ç³»: priority æœªæŒ‡å®šæ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‹•ä½œç¢ºèª
- [ ] å¢ƒç•Œå€¤: åŒä¸€ priority æ™‚ã®å‡¦ç†ç¢ºèª

## éæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆåŸºæº–

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

**NFR-001: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ“ãƒ«ãƒ‰çµ±åˆ** ğŸŸ¢

- [ ] ãƒ“ãƒ«ãƒ‰æ–¹å¼: pnpm add ã§è¿½åŠ ã—ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒãƒ“ãƒ«ãƒ‰æ™‚ã«é™çš„ã«çµ„ã¿è¾¼ã¾ã‚Œã‚‹
- [ ] å®Ÿè¡Œæ™‚æ¤œç´¢: å‹•çš„æ¤œç´¢ãŒä¸è¦ã§ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«è§£æ±ºã•ã‚Œã‚‹
- [ ] å‹å®‰å…¨æ€§: TypeScript ã®å‹ãƒã‚§ãƒƒã‚¯ãŒå®Œå…¨ã«æ©Ÿèƒ½ã™ã‚‹

**ãƒ†ã‚¹ãƒˆæ–¹æ³•**:
- ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«: pnpm build
- ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¿½åŠ å¾Œã®ãƒ“ãƒ«ãƒ‰æˆåŠŸç¢ºèª
- åˆæ ¼åŸºæº–: ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãªã—ã€ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºã®å¢—åŠ ãŒé©åˆ‡

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ

**NFR-101: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³é–“ã®åˆ†é›¢** ğŸŸ¡

- [ ] ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹: ä»–ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯
- [ ] API åˆ¶é™: å®šç¾©ã•ã‚ŒãŸ API ä»¥å¤–ã®ã‚·ã‚¹ãƒ†ãƒ ãƒªã‚½ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯
- [ ] ã‚¹ã‚³ãƒ¼ãƒ—åˆ†é›¢: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³é–“ã®åå‰ç©ºé–“è¡çªãªã—

**ãƒ†ã‚¹ãƒˆæ–¹æ³•**:
- æ‚ªæ„ã®ã‚ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹è©¦è¡Œ
- åˆæ ¼åŸºæº–: ã™ã¹ã¦ã®ã‚¢ã‚¯ã‚»ã‚¹è©¦è¡ŒãŒå¤±æ•—

## ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆåŸºæº–

### UX/UIãƒ†ã‚¹ãƒˆ

- [ ] å‹è£œå®Œ: VSCode ã§ã® TypeScript å‹è£œå®ŒãŒæ©Ÿèƒ½ ğŸŸ¢
- [ ] ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: æœ€å°é™ã®ã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’æä¾› ğŸŸ¢
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: API ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã¨å®Ÿè£…ä¾‹ã®æä¾› ğŸŸ¢
- [ ] ãƒ‡ãƒãƒƒã‚°: ã‚½ãƒ¼ã‚¹ãƒãƒƒãƒ—ã«ã‚ˆã‚‹ãƒ‡ãƒãƒƒã‚°å¯¾å¿œ ğŸŸ¡

**ãƒ†ã‚¹ãƒˆæ–¹æ³•**:
- é–‹ç™ºè€…ã«ã‚ˆã‚‹å®Ÿè£…ä½“é¨“è©•ä¾¡
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®åˆ†ã‹ã‚Šã‚„ã™ã•è©•ä¾¡
- åˆæ ¼åŸºæº–: é–‹ç™ºè€…æº€è¶³åº¦ 80% ä»¥ä¸Š

## Edgeã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆåŸºæº–

### EDGE-001: ä¸å®Œå…¨ãª NodeTypeDefinition ç™»éŒ²ã®å—ã‘å…¥ã‚ŒåŸºæº– ğŸŸ¢

**ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**:
- nodeType ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒæœªå®šç¾©
- entityHandler ãŒ null
- å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒæ¬ è½

**åˆæ ¼åŸºæº–**:
- [ ] ãƒ“ãƒ«ãƒ‰æ™‚ã« TypeScript ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ
- [ ] ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«æ¬ è½ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ˜è¨˜
- [ ] å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ã§è©³ç´°æƒ…å ±æä¾›
- [ ] ã‚·ã‚¹ãƒ†ãƒ ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ãªã—

### EDGE-002: å­˜åœ¨ã—ãªã„ nodeType å–å¾—ã®å—ã‘å…¥ã‚ŒåŸºæº– ğŸŸ¢

**ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**:
- æœªç™»éŒ²ã® nodeType ã§ getDefinition() å‘¼ã³å‡ºã—
- null ã‚„ undefined ã§ã®æ¤œç´¢

**åˆæ ¼åŸºæº–**:
- [ ] æœªç™»éŒ²ã® nodeType ã®å ´åˆã¯ undefined ã‚’è¿”ã™
- [ ] null/undefined ã® nodeType ã®å ´åˆã¯ä¾‹å¤–ã‚’æŠ•ã’ã‚‹
- [ ] é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å«ã‚€ä¾‹å¤–

### EDGE-003: ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ•ãƒƒã‚¯å†…ä¾‹å¤–ã®å—ã‘å…¥ã‚ŒåŸºæº– ğŸŸ¢

**ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**:
- beforeCreate ã§è­¦å‘Šç™ºç”Ÿ
- beforeCreate ã§ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ
- è¤‡æ•°ãƒ•ãƒƒã‚¯ã§ã®é€£ç¶šã‚¨ãƒ©ãƒ¼

**åˆæ ¼åŸºæº–**:
- [ ] è­¦å‘Šæ™‚: console.warn ã§å‡ºåŠ›ã—å‡¦ç†ç¶™ç¶š
- [ ] ã‚¨ãƒ©ãƒ¼æ™‚: æ“ä½œå…¨ä½“ã‚’ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
- [ ] ã‚¨ãƒ©ãƒ¼æƒ…å ±ã«ãƒ•ãƒƒã‚¯åã¨ nodeType å«ã‚€
- [ ] ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ãŒä¿ãŸã‚Œã‚‹


## çµ±åˆãƒ†ã‚¹ãƒˆåŸºæº–

### ã‚·ã‚¹ãƒ†ãƒ é–“é€£æºãƒ†ã‚¹ãƒˆ

- [ ] Dexie ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é€£æº: ã‚¹ã‚­ãƒ¼ãƒè‡ªå‹•ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç¢ºèª ğŸŸ¢
- [ ] React Router çµ±åˆ: å‹•çš„ãƒ«ãƒ¼ãƒˆç”Ÿæˆã®ç¢ºèª ğŸŸ¢
- [ ] Worker ã‚¹ãƒ¬ãƒƒãƒ‰é€£æº: API å‘¼ã³å‡ºã—ã®éåŒæœŸå®Ÿè¡Œç¢ºèª ğŸŸ¢

### ãƒ—ãƒ©ã‚°ã‚¤ãƒ³é–“é€£æºãƒ†ã‚¹ãƒˆ

- [ ] Resources-Project é€£æº: ãƒ„ãƒªãƒ¼é–“å‚ç…§ã®å‹•ä½œç¢ºèª ğŸŸ¢
- [ ] propertyresolver é€£æº: GeoJSON å¤‰æ›ãƒ«ãƒ¼ãƒ«é©ç”¨ç¢ºèª ğŸŸ¢
- [ ] å…±é€šãƒ—ãƒ©ã‚°ã‚¤ãƒ³: folder ãŒä¸¡ãƒ„ãƒªãƒ¼ã§å‹•ä½œç¢ºèª ğŸŸ¢

## ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆåŸºæº–

### æ—¢å­˜æ©Ÿèƒ½å½±éŸ¿ç¢ºèª

- [ ] åŸºæœ¬ãƒ„ãƒªãƒ¼æ“ä½œ: ãƒãƒ¼ãƒ‰ä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤ã®ç¶™ç¶šå‹•ä½œ
- [ ] ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–: æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿å¯èƒ½
- [ ] UI è¡¨ç¤º: æ—¢å­˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è¡¨ç¤ºå´©ã‚Œãªã—

### ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ç¢ºèª

- [ ] é–‹ç™ºã‚µãƒ¼ãƒãƒ¼: npm ä¾å­˜ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰å‹•ä½œ
- [ ] ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³: ãƒ“ãƒ«ãƒ‰å¾Œã®é™çš„çµ±åˆç¢ºèª

## å—ã‘å…¥ã‚Œãƒ†ã‚¹ãƒˆå®Ÿè¡Œãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå‰

- [ ] TypeScript 5.0 ä»¥ä¸Šã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª
- [ ] Node.js 18 ä»¥ä¸Šã®ç’°å¢ƒç¢ºèª
- [ ] ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®åˆæœŸåŒ–
- [ ] ãƒ¢ãƒƒã‚¯ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®æº–å‚™å®Œäº†

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­

- [ ] å…¨æ©Ÿèƒ½è¦ä»¶ãƒ†ã‚¹ãƒˆï¼ˆREQ-001ï½404ï¼‰ã®å®Ÿè¡Œ
- [ ] å…¨éæ©Ÿèƒ½è¦ä»¶ãƒ†ã‚¹ãƒˆï¼ˆNFR-001ï½302ï¼‰ã®å®Ÿè¡Œ
- [ ] Edge ã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆï¼ˆEDGE-001ï½202ï¼‰ã®å®Ÿè¡Œ
- [ ] å•é¡Œç™ºè¦‹æ™‚ã®è©³ç´°ãƒ­ã‚°è¨˜éŒ²

### ãƒ†ã‚¹ãƒˆå®Œäº†å¾Œ

- [ ] ãƒ†ã‚¹ãƒˆçµæœãƒ¬ãƒãƒ¼ãƒˆã®ç”Ÿæˆ
- [ ] ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆï¼ˆç›®æ¨™ 80% ä»¥ä¸Šï¼‰
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®šçµæœã®è¨˜éŒ²
- [ ] æ®‹å­˜å•é¡Œã®å„ªå…ˆåº¦ä»˜ã‘ã¨å¯¾å¿œè¨ˆç”»

## å—ã‘å…¥ã‚Œåˆ¤å®šåŸºæº–

### å¿…é ˆé …ç›®ï¼ˆPhase 1ï¼‰
- å…¨ REQ-001ï½007, REQ-401ï½404 ã®ãƒ†ã‚¹ãƒˆæˆåŠŸ
- TypeScript ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãªã—
- åŸºæœ¬çš„ãª CRUD æ“ä½œã®å‹•ä½œ

### é‡è¦é …ç›®ï¼ˆPhase 2ï¼‰
- REQ-101ï½105, REQ-201ï½203 ã®ãƒ†ã‚¹ãƒˆæˆåŠŸ
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŸºæº–ã® 80% é”æˆ
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®é©åˆ‡ãªå®Ÿè£…

### æ¨å¥¨é …ç›®ï¼ˆPhase 3ï¼‰
- Edge ã‚±ãƒ¼ã‚¹ã® 70% ä»¥ä¸ŠæˆåŠŸ
- ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£è©•ä¾¡ 80% ä»¥ä¸Š
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å®Œå‚™

## ãƒ†ã‚¹ãƒˆè‡ªå‹•åŒ–

```typescript
// Vitest ã«ã‚ˆã‚‹è‡ªå‹•ãƒ†ã‚¹ãƒˆã®ä¾‹
describe('NodeTypeRegistry', () => {
  it('should return singleton instance', () => {
    const instance1 = NodeTypeRegistry.getInstance();
    const instance2 = NodeTypeRegistry.getInstance();
    expect(instance1).toBe(instance2);
  });

  it('should register UnifiedPluginDefinition', () => {
    const definition: UnifiedPluginDefinition = {
      nodeType: 'test' as TreeNodeType,
      // ... å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
    };
    registry.registerPlugin(definition);
    expect(registry.getDefinition('test')).toBeDefined();
  });
});
```

## å¤‰æ›´å±¥æ­´

- 2025-01-28: åˆç‰ˆä½œæˆï¼ˆçµ±åˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ä»•æ§˜ã«åŸºã¥ãï¼‰