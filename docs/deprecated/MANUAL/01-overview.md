# HierarchiDB システム概要

# システム概要

## この章について

この章では、HierarchiDBシステムの全体概要と主要機能について説明します。

**読むべき人**: HierarchiDBを初めて使用する方、システムの全体像を理解したい方
**前提知識**: 特になし（技術的背景知識不要）
**読むタイミング**: 
- HierarchiDB利用を検討している段階
- 初回セットアップ前の概要理解
- チームメンバーへの説明資料として

この章を読むことで、HierarchiDBが提供する機能（地理情報管理、spreadsheet処理、プラグインシステム等）、適用分野、他システムとの違いを理解できます。具体的な操作方法や技術詳細については、後続の章で詳しく説明します。システム導入の判断材料としてもご活用ください。

## 概要

HierarchiDBは、ブラウザ環境で動作する高性能なツリー構造データ管理フレームワークです。地理情報システム（GIS）データの階層的管理を主要なユースケースとして、拡張可能なプラグインアーキテクチャを提供します。

## 主要機能

### 1. 階層的データ管理
- ツリー構造によるデータの組織化
- フォルダとドキュメントの概念による直感的な操作
- 無制限の階層深度サポート

### 2. プラグインベースの拡張性
- **BaseMap**: 地図表示とスタイル管理
- **StyleMap**: CSVデータの視覚化とフィルタリング
- **Shape**: 地理的図形データの管理と処理
- **Spreadsheet**: 大容量表形式データの効率的な処理とクエリ
- **Project**: プロジェクト管理とリソース統合
- **Shapes**: 地理空間データの処理とベクタータイル生成

### 3. 高度な編集機能
- ワーキングコピーによる安全な編集
- ドラフト状態の保存と再開
- Undo/Redo機能
- Copy/Paste操作
- ゴミ箱機能

### 4. パフォーマンス最適化
- Web Worker による UI とデータ処理の分離
- IndexedDB による大容量データの効率的な管理
- 仮想スクロールによる大量アイテムの表示

## システム要件

### ブラウザ要件
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

### 必要な Web API
- IndexedDB
- Web Workers
- Service Workers (オプション)

## 技術スタック

### フロントエンド
- **React 19+**: UI フレームワーク
- **Material-UI v5**: UI コンポーネント
- **React Router v7**: ファイルベースルーティング
- **TanStack Virtual**: 仮想スクロール

### データ層
- **Dexie.js**: IndexedDB ラッパー
- **Comlink**: Worker 通信
- **Zod**: スキーマバリデーション

### 開発ツール
- **TypeScript 5+**: 型安全性
- **Vite**: ビルドツール
- **Vitest**: ユニットテスト
- **Playwright**: E2E テスト

## アーキテクチャ概要

```
┌─────────────────────────────────────────┐
│          UI Layer (React)               │
├─────────────────────────────────────────┤
│         Comlink RPC Bridge              │
├─────────────────────────────────────────┤
│        Worker Layer (Logic)             │
├─────────────────────────────────────────┤
│      Dexie (IndexedDB Access)           │
├─────────────────────────────────────────┤
│   CoreDB    │    EphemeralDB            │
│  (永続化)    │    (一時データ)            │
└─────────────────────────────────────────┘
```

## 次のステップ

- [基本概念と用語](./01-concepts.md) - システムの基本概念を理解
- [アーキテクチャ詳細](./02-architecture-overview.md) - 技術的な詳細を確認
- [プラグイン開発](./04-plugin-overview.md) - プラグイン開発を開始