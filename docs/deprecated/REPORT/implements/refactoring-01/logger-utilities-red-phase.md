# Logger Utilities - Redãƒ•ã‚§ãƒ¼ã‚ºè¨­è¨ˆ

## ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚³ãƒžãƒ³ãƒ‰

```bash
cd packages/ui-core
pnpm test src/utils/logger.test.ts
```

## æœŸå¾…ã•ã‚Œã‚‹å¤±æ•—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

åˆå›žå®Ÿè¡Œæ™‚ã¯ä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿï¼š

```
Error: Cannot find module './logger' from 'src/utils/logger.test.ts'
```

ã“ã‚Œã¯ `packages/ui-core/src/utils/logger.ts` ãƒ•ã‚¡ã‚¤ãƒ«ãŒã¾ã å­˜åœ¨ã—ãªã„ãŸã‚ã€æ­£ã—ã„å¤±æ•—ã§ã™ã€‚

## ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®Ÿè£…è©³ç´°

### 1. æ­£å¸¸ç³»ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼ˆ4å€‹å®Ÿè£…ï¼‰

#### 1-1. ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ä»˜ããƒ­ã‚°å‡ºåŠ›
- **å®Ÿè£…çŠ¶æ³**: âœ… å®Ÿè£…æ¸ˆã¿
- **ä¿¡é ¼æ€§**: ðŸŸ¢ ç¾åœ¨ã®å®Ÿè£…ã‹ã‚‰ç›´æŽ¥å°Žå‡º
- **ãƒ†ã‚¹ãƒˆå†…å®¹**: `createLogger('TestModule')` ã§ãƒ­ã‚¬ãƒ¼ã‚’ä½œæˆã—ã€`devLog` ã§ãƒ­ã‚°å‡ºåŠ›

#### 1-2. ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°å‡ºåŠ›
- **å®Ÿè£…çŠ¶æ³**: âœ… å®Ÿè£…æ¸ˆã¿
- **ä¿¡é ¼æ€§**: ðŸŸ¢ ç¾åœ¨ã®å®Ÿè£…ã‹ã‚‰ç›´æŽ¥å°Žå‡º
- **ãƒ†ã‚¹ãƒˆå†…å®¹**: `devError` ã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å‡ºåŠ›

#### 1-3. è­¦å‘Šãƒ­ã‚°å‡ºåŠ›
- **å®Ÿè£…çŠ¶æ³**: âœ… å®Ÿè£…æ¸ˆã¿
- **ä¿¡é ¼æ€§**: ðŸŸ¢ ç¾åœ¨ã®å®Ÿè£…ã‹ã‚‰ç›´æŽ¥å°Žå‡º
- **ãƒ†ã‚¹ãƒˆå†…å®¹**: `devWarn` ã§è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡ºåŠ›

#### 1-4. è¤‡æ•°å¼•æ•°å‡¦ç†
- **å®Ÿè£…çŠ¶æ³**: âœ… å®Ÿè£…æ¸ˆã¿
- **ä¿¡é ¼æ€§**: ðŸŸ¢ å¯å¤‰é•·å¼•æ•°ãƒ‘ã‚¿ãƒ¼ãƒ³ã‹ã‚‰å°Žå‡º
- **ãƒ†ã‚¹ãƒˆå†…å®¹**: æ–‡å­—åˆ—ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€é…åˆ—ã‚’åŒæ™‚ã«æ¸¡ã™

### 2. ç•°å¸¸ç³»ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼ˆ3å€‹å®Ÿè£…ï¼‰

#### 2-1. æœ¬ç•ªç’°å¢ƒã§ã®ãƒ­ã‚°æŠ‘åˆ¶
- **å®Ÿè£…çŠ¶æ³**: âœ… å®Ÿè£…æ¸ˆã¿
- **ä¿¡é ¼æ€§**: ðŸŸ¢ ç¾åœ¨ã®å®Ÿè£…ã‹ã‚‰ç›´æŽ¥å°Žå‡º
- **ãƒ†ã‚¹ãƒˆå†…å®¹**: `NODE_ENV='production'` ã§ãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œãªã„ã“ã¨ã‚’ç¢ºèª

#### 2-2. ç©ºãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹å‡¦ç†
- **å®Ÿè£…çŠ¶æ³**: âœ… å®Ÿè£…æ¸ˆã¿
- **ä¿¡é ¼æ€§**: ðŸŸ¡ å¦¥å½“ãªæŽ¨æ¸¬
- **ãƒ†ã‚¹ãƒˆå†…å®¹**: ç©ºæ–‡å­—åˆ—ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã§ã‚‚ã‚¨ãƒ©ãƒ¼ãªãå‹•ä½œ

#### 2-3. ç’°å¢ƒå¤‰æ•°æœªè¨­å®šæ™‚ã®å‹•ä½œ
- **å®Ÿè£…çŠ¶æ³**: âœ… å®Ÿè£…æ¸ˆã¿
- **ä¿¡é ¼æ€§**: ðŸŸ¡ Node.js ã®ä¸€èˆ¬çš„ãªæ…£ç¿’
- **ãƒ†ã‚¹ãƒˆå†…å®¹**: `NODE_ENV` æœªè¨­å®šæ™‚ã¯é–‹ç™ºç’°å¢ƒã¨ã—ã¦å‹•ä½œ

### 3. å¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼ˆ4å€‹å®Ÿè£…ï¼‰

#### 3-1. å¼•æ•°ãªã—ãƒ­ã‚°å‡ºåŠ›
- **å®Ÿè£…çŠ¶æ³**: âœ… å®Ÿè£…æ¸ˆã¿
- **ä¿¡é ¼æ€§**: ðŸŸ¢ å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ã‹ã‚‰å°Žå‡º
- **ãƒ†ã‚¹ãƒˆå†…å®¹**: å¼•æ•°0å€‹ã§ã‚‚æ­£å¸¸å‹•ä½œ

#### 3-2. ç‰¹æ®Šå€¤ã®å‡¦ç†
- **å®Ÿè£…çŠ¶æ³**: âœ… å®Ÿè£…æ¸ˆã¿
- **ä¿¡é ¼æ€§**: ðŸŸ¡ å¦¥å½“ãªæŽ¨æ¸¬
- **ãƒ†ã‚¹ãƒˆå†…å®¹**: null, undefined, NaN ã‚’æ­£ã—ãå‡ºåŠ›

#### 3-3. é•·ã„ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹
- **å®Ÿè£…çŠ¶æ³**: âœ… å®Ÿè£…æ¸ˆã¿
- **ä¿¡é ¼æ€§**: ðŸŸ¡ ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹
- **ãƒ†ã‚¹ãƒˆå†…å®¹**: 100æ–‡å­—ä»¥ä¸Šã®ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã§ã‚‚å‹•ä½œ

## æ—¥æœ¬èªžã‚³ãƒ¡ãƒ³ãƒˆã®èª¬æ˜Ž

å„ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã«ä»¥ä¸‹ã®æ—¥æœ¬èªžã‚³ãƒ¡ãƒ³ãƒˆã‚’é…ç½®ï¼š

1. **ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹é–‹å§‹æ™‚**
   - ãƒ†ã‚¹ãƒˆç›®çš„ã€å†…å®¹ã€æœŸå¾…å‹•ä½œã€ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«ã‚’æ˜Žè¨˜

2. **Givenï¼ˆæº–å‚™ï¼‰ãƒ•ã‚§ãƒ¼ã‚º**
   - ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æº–å‚™ã®ç†ç”±ã¨åˆæœŸæ¡ä»¶ã‚’èª¬æ˜Ž

3. **Whenï¼ˆå®Ÿè¡Œï¼‰ãƒ•ã‚§ãƒ¼ã‚º**
   - å®Ÿè¡Œã™ã‚‹å‡¦ç†ã¨å†…å®¹ã‚’èª¬æ˜Ž

4. **Thenï¼ˆæ¤œè¨¼ï¼‰ãƒ•ã‚§ãƒ¼ã‚º**
   - æ¤œè¨¼å†…å®¹ã¨æœŸå¾…å€¤ç¢ºèªã®ç†ç”±ã‚’èª¬æ˜Ž

5. **å„expectæ–‡**
   - å…·ä½“çš„ãªç¢ºèªå†…å®¹ã¨ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«ã‚’ä»˜è¨˜

## å®Ÿè£…è¦æ±‚ä»•æ§˜

Greenãƒ•ã‚§ãƒ¼ã‚ºã§å®Ÿè£…ãŒå¿…è¦ãªæ©Ÿèƒ½ï¼š

```typescript
// packages/ui-core/src/utils/logger.ts

export interface Logger {
  devLog: (...args: any[]) => void;
  devError: (...args: any[]) => void;
  devWarn: (...args: any[]) => void;
}

export function createLogger(prefix: string): Logger {
  const isDev = process.env.NODE_ENV !== 'production';
  
  return {
    devLog: (...args: any[]) => {
      if (isDev) {
        console.log(`[${prefix}]`, ...args);
      }
    },
    devError: (...args: any[]) => {
      if (isDev) {
        console.error(`[${prefix} Error]`, ...args);
      }
    },
    devWarn: (...args: any[]) => {
      if (isDev) {
        console.warn(`[${prefix} Warning]`, ...args);
      }
    }
  };
}
```