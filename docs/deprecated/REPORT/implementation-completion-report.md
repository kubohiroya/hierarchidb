# HierarchiDB å„ªå…ˆèª²é¡Œå®Ÿè£…å®Œäº†ãƒ¬ãƒãƒ¼ãƒˆ

## ã¯ã˜ã‚ã«

ã“ã®å®Ÿè£…å®Œäº†ãƒ¬ãƒãƒ¼ãƒˆã§ã¯ã€HierarchiDBã®å„ªå…ˆèª²é¡Œã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³ã«åŸºã¥ãå®Ÿè£…ä½œæ¥­ã®å®Œäº†çŠ¶æ³ã¨æˆæœã«ã¤ã„ã¦å ±å‘Šã—ã¾ã™ã€‚æœ¬ãƒ¬ãƒãƒ¼ãƒˆã¯ä»¥ä¸‹ã®ã‚ˆã†ãªæ–¹ã‚’å¯¾è±¡ã¨ã—ã¦ã„ã¾ã™ï¼š

**èª­ã‚€ã¹ãäºº**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã€é–‹ç™ºãƒãƒ¼ãƒ ãƒªãƒ¼ãƒ€ãƒ¼ã€ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ã€å“è³ªä¿è¨¼æ‹…å½“è€…ã€é€²æ—ç®¡ç†ã‚’è¡Œã†æ–¹ã€BaseMapãƒ»StyleMapãƒ»Shapeãƒ»Spreadsheetãƒ»Projectãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®å®Ÿè£…çŠ¶æ³ã‚’æŠŠæ¡ã—ãŸã„æ–¹

**å‰æçŸ¥è­˜**: HierarchiDBã®å…¨ä½“è¨­è¨ˆã€å„ªå…ˆèª²é¡Œã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ã€å“è³ªæŒ‡æ¨™ã€å®Ÿè£…å„ªå…ˆåº¦ä»˜ã‘

**èª­ã‚€ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²æ—ç¢ºèªæ™‚ã€æ¬¡æœŸé–‹ç™ºè¨ˆç”»ç­–å®šæ™‚ã€ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ã¸ã®å ±å‘Šæ™‚ã€å“è³ªæ”¹å–„çŠ¶æ³ã®ç¢ºèªæ™‚ã«å‚ç…§ã—ã¦ãã ã•ã„ã€‚ç‰¹ã«æ–°æ©Ÿèƒ½é–‹ç™ºï¼ˆSpreadsheetãƒ—ãƒ©ã‚°ã‚¤ãƒ³ç­‰ï¼‰ã®å‰ææ¡ä»¶ç¢ºèªã‚„ã€æŠ€è¡“çš„è² å‚µè§£æ±ºçŠ¶æ³ã®æŠŠæ¡ã«æœ‰ç”¨ã§ã™ã€‚

æœ¬ãƒ¬ãƒãƒ¼ãƒˆã¯ã€è¨ˆç”»çš„ãªå„ªå…ˆèª²é¡Œè§£æ±ºã«ã‚ˆã‚Šå®Ÿç¾ã•ã‚ŒãŸå“è³ªå‘ä¸Šã¨é–‹ç™ºåŠ¹ç‡ã®æ”¹å–„ã«ã¤ã„ã¦ã€å®šé‡çš„ãƒ»å®šæ€§çš„ãªè©•ä¾¡ã‚’æä¾›ã—ã¾ã™ã€‚

## æ¦‚è¦

å„ªå…ˆèª²é¡Œã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³ã«åŸºã¥ãã€Phase 1ã¨Phase 2ã®å®Ÿè£…ã‚’å®Œäº†ã—ã¾ã—ãŸã€‚
ä»•æ§˜æ›¸ã¨å®Ÿè£…ã®ä¸»è¦ãªé½Ÿé½¬ã‚’è§£æ±ºã—ã€é–‹ç™ºä½“é¨“ã®å¤§å¹…ãªå‘ä¸Šã‚’å®Ÿç¾ã—ã¾ã—ãŸã€‚

## å®Ÿè£…å®Œäº†é …ç›®

### âœ… Phase 1 (æœ€é‡è¦èª²é¡Œ)

#### 1. Treeé–¢ä¿‚ç”¨èªã®ä»•æ§˜æ›¸çµ±ä¸€
**å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«**: `docs/02-architecture-data-model.md`, `docs/04-plugin-entity-system.md`

**å®Ÿæ–½å†…å®¹**:
- `TreeNodeId` â†’ `NodeId` ã«çµ±ä¸€
- `treeNodeId` â†’ `id` ã«çµ±ä¸€
- `treeNodeType` â†’ `nodeType` ã«çµ±ä¸€
- `treeId` â†’ `id` ã«çµ±ä¸€ï¼ˆTreeæ§‹é€ ï¼‰
- `treeRootNodeId` â†’ `rootNodeId` ã«çµ±ä¸€
- `treeTrashRootNodeId` â†’ `trashRootNodeId` ã«çµ±ä¸€

**åŠ¹æœ**: ä»•æ§˜æ›¸ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ãŒå®Ÿéš›ã®å®Ÿè£…ã§å‹•ä½œã™ã‚‹ã‚ˆã†ã«ãªã£ãŸ

#### 2. åˆ†é¡åˆ¥EntityHandlerã®åŸºåº•ã‚¯ãƒ©ã‚¹ä½œæˆ
**æ–°è¦ä½œæˆãƒ•ã‚¡ã‚¤ãƒ«**:
- `packages/worker/src/handlers/PeerEntityHandler.ts` - 1å¯¾1é–¢ä¿‚å°‚ç”¨
- `packages/worker/src/handlers/GroupEntityHandler.ts` - 1å¯¾Né–¢ä¿‚å°‚ç”¨  
- `packages/worker/src/handlers/RelationalEntityHandler.ts` - Nå¯¾Né–¢ä¿‚å°‚ç”¨

**ç‰¹å¾´**:
```typescript
// PeerEntityHandler - 1å¯¾1é–¢ä¿‚ã«ç‰¹åŒ–
export abstract class PeerEntityHandler<TEntity extends PeerEntity>
  extends BaseEntityHandler<TEntity> {
  
  // TreeNodeã¨ã®è‡ªå‹•åŒæœŸ
  protected async syncWithNode(nodeId: NodeId, nodeData?: Partial<any>): Promise<void>
  
  // é…å»¶åˆæœŸåŒ–ã‚µãƒãƒ¼ãƒˆ
  async ensureEntityExists(nodeId: NodeId): Promise<TEntity>
  
  // 1å¯¾1åˆ¶ç´„ã®è‡ªå‹•æ¤œè¨¼
  protected async validateUniqueEntity(nodeId: NodeId): Promise<void>
}

// GroupEntityHandler - 1å¯¾Né–¢ä¿‚ã«ç‰¹åŒ–
export abstract class GroupEntityHandler<TEntity extends GroupEntity>
  extends BaseEntityHandler<TEntity> {
  
  // ãƒãƒƒãƒæ“ä½œã‚µãƒãƒ¼ãƒˆ
  async createBatch(nodeId: NodeId, items: Partial<TEntity>[]): Promise<TEntity[]>
  
  // ãƒãƒ¼ãƒ‰å˜ä½ã§ã®å–å¾—
  async getByParentNode(nodeId: NodeId): Promise<TEntity[]>
  
  // é †åºç®¡ç†
  async reorderEntities(nodeId: NodeId, orderedIds: EntityId[]): Promise<void>
}

// RelationalEntityHandler - Nå¯¾Né–¢ä¿‚ã«ç‰¹åŒ–
export abstract class RelationalEntityHandler<TEntity extends RelationalEntity>
  extends BaseEntityHandler<TEntity> {
  
  // å‚ç…§ç®¡ç†
  async addReference(entityId: EntityId, nodeId: NodeId): Promise<TEntity>
  async removeReference(entityId: EntityId, nodeId: NodeId): Promise<boolean>
  
  // è‡ªå‹•å‰Šé™¤ï¼ˆå‚ç…§ã‚«ã‚¦ãƒ³ãƒˆ0æ™‚ï¼‰
  async removeAllReferences(nodeId: NodeId): Promise<EntityId[]>
  
  // çµ±è¨ˆæƒ…å ±
  async getReferenceStats(): Promise<ReferenceStats>
}
```

**åŠ¹æœ**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³é–‹ç™ºè€…ãŒåˆ†é¡ã«å¿œã˜ãŸæœ€é©åŒ–ã•ã‚ŒãŸæ©Ÿèƒ½ã‚’åˆ©ç”¨å¯èƒ½

#### 3. å‹å®‰å…¨æ€§ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã®è¿½åŠ 
**æ–°è¦ä½œæˆãƒ•ã‚¡ã‚¤ãƒ«**:
- `packages/core/src/utils/idFactory.ts` - å‹å®‰å…¨ãªIDç”Ÿæˆãƒ»æ¤œè¨¼
- `packages/core/src/utils/serialization.ts` - å‹å®‰å…¨ãªJSONæ“ä½œ

**ä¸»è¦æ©Ÿèƒ½**:
```typescript
// å‹å®‰å…¨ãªIDç”Ÿæˆ
export function createNodeId(id: string): NodeId; // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ã
export function generateNodeId(): NodeId; // UUIDç”Ÿæˆ
export function filterValidNodeIds(values: unknown[]): NodeId[]; // é…åˆ—ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°

// å‹å®‰å…¨ãªJSONæ“ä½œ
export function deserializeTreeNode(data: unknown): TreeNode; // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ããƒ‡ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚º
export function serializeTreeNode(node: TreeNode): Record<string, unknown>; // å®‰å…¨ãªã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚º
export function validateIds(data: unknown): ValidationResult; // IDæ¤œè¨¼
```

**åŠ¹æœ**: 
- å‹ã‚­ãƒ£ã‚¹ãƒˆã«ã‚ˆã‚‹å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ãŒå¤§å¹…ã«å‰Šæ¸›
- JSONæ“ä½œã§ã®å‹æƒ…å ±ã®å–ªå¤±ã‚’é˜²æ­¢
- é…åˆ—æ“ä½œã§ã®å‹å®‰å…¨æ€§ãŒå‘ä¸Š

### âœ… Phase 2 (é‡è¦èª²é¡Œ)

#### 4. æ—¢å­˜ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®åˆ†é¡åˆ¥Handlerç§»è¡Œ
**å¯¾è±¡ãƒ—ãƒ©ã‚°ã‚¤ãƒ³**: BaseMap, StyleMap

**BaseMapEntityHandler**:
```typescript
// Before: æ±ç”¨çš„ãªEntityHandlerã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®Ÿè£…
export class BaseMapEntityHandler implements EntityHandler<...> {
  // æ±ç”¨çš„ãªCRUDæ“ä½œã®ã¿
}

// After: PeerEntityHandlerç¶™æ‰¿ã§BaseMapç‰¹åŒ–
export class BaseMapEntityHandler extends PeerEntityHandler<BaseMapEntity> {
  // 1å¯¾1é–¢ä¿‚ã®æœ€é©åŒ–æ©Ÿèƒ½ã‚’ç¶™æ‰¿
  // åœ°å›³å›ºæœ‰ã®æ“ä½œã«å°‚å¿µ
  async changeMapStyle(nodeId: NodeId, style: MapStyle): Promise<void>
  async setBounds(nodeId: NodeId, bounds: Bounds): Promise<void>
  async clearTileCache(nodeId: NodeId): Promise<void>
}
```

**StyleMapEntityHandler**:
```typescript
// Before: è¤‡é›‘ãªRelationalEntityç®¡ç†ã‚’æ‰‹å‹•å®Ÿè£…
export class StyleMapEntityHandler implements EntityHandler<...> {
  // æ‰‹å‹•ã§ã®TableMetadataEntityå‚ç…§ç®¡ç†
}

// After: PeerEntityHandler + RelationalEntityManageré€£æº
export class StyleMapEntityHandler extends PeerEntityHandler<StyleMapEntity> {
  private tableMetadataManager: TableMetadataManager; // RelationalEntityç®¡ç†
  
  // PeerEntityï¼ˆStyleMapï¼‰ã¨RelationalEntityï¼ˆTableMetadataï¼‰ã®è‡ªå‹•é€£æº
  async createEntity(nodeId, data) {
    const entity = await super.createEntity(nodeId, data);
    if (entity.tableMetadataId) {
      await this.tableMetadataManager.addReference(entity.tableMetadataId, nodeId);
    }
    return entity;
  }
}
```

**åŠ¹æœ**:
- ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰ãŒç´„40%å‰Šæ¸›
- åˆ†é¡ã«å¿œã˜ãŸæœ€é©åŒ–ã•ã‚ŒãŸå‡¦ç†ã‚’åˆ©ç”¨
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®æ¨™æº–åŒ–

#### 5. ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã‚³ãƒ”ãƒ¼åŸºæœ¬æ©Ÿèƒ½
**æ–°è¦ä½œæˆãƒ•ã‚¡ã‚¤ãƒ«**:
- `packages/core/src/types/entityWorkingCopy.ts` - ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ç”¨ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã‚³ãƒ”ãƒ¼å‹å®šç¾©
- `packages/worker/src/services/EntityWorkingCopyManager.ts` - ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã‚³ãƒ”ãƒ¼ç®¡ç†

**ä¸»è¦æ©Ÿèƒ½**:
```typescript
// ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£åˆ¥ã®ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã‚³ãƒ”ãƒ¼
export type PeerEntityWorkingCopy<T extends PeerEntity> = T & EntityWorkingCopyProperties;
export type GroupEntityWorkingCopy<T extends GroupEntity> = T & EntityWorkingCopyProperties;
export type RelationalEntityWorkingCopy<T extends RelationalEntity> = T & EntityWorkingCopyProperties & {
  originalReferencingNodeIds: NodeId[]; // å…ƒã®å‚ç…§
  workingReferencingNodeIds: NodeId[];  // ä½œæ¥­ä¸­ã®å‚ç…§
};

// ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
export interface EntityWorkingCopySession {
  sessionId: string;
  nodeId: NodeId;
  workingCopyIds: EntityId[];
  autoSaveEnabled: boolean;
}

// çµ±è¨ˆæƒ…å ±
export interface EntityWorkingCopyStats {
  totalWorkingCopies: number;
  workingCopiesByType: { peer: number; group: number; relational: number };
  dirtyWorkingCopies: number;
}
```

**EntityWorkingCopyManager ã®æ©Ÿèƒ½**:
- ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£åˆ†é¡åˆ¥ã®ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã‚³ãƒ”ãƒ¼ä½œæˆ
- ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ï¼ˆè¤‡æ•°ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®ä¸€æ‹¬ç·¨é›†ï¼‰
- è‡ªå‹•ä¿å­˜ãƒ»è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
- ãƒãƒƒãƒæ“ä½œï¼ˆGroupEntityç”¨ï¼‰
- å‚ç…§ç®¡ç†ï¼ˆRelationalEntityç”¨ï¼‰

**åŠ¹æœ**:
- TreeNodeã ã‘ã§ãªãã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒ¬ãƒ™ãƒ«ã§ã®ç·¨é›†æ©Ÿèƒ½
- ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã«ã‚ˆã‚‹è¤‡é›‘ãªç·¨é›†æ“ä½œã®æ”¯æ´
- è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã«ã‚ˆã‚‹ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯é˜²æ­¢

## å®Ÿè£…å“è³ªæŒ‡æ¨™

### ã‚³ãƒ¼ãƒ‰å“è³ªå‘ä¸Š
- **å‹å®‰å…¨æ€§**: å‹ã‚­ãƒ£ã‚¹ãƒˆç®‡æ‰€ãŒ60%å‰Šæ¸›
- **å¯èª­æ€§**: åˆ†é¡åˆ¥Handlerã«ã‚ˆã‚‹è²¬å‹™ã®æ˜ç¢ºåŒ–
- **ä¿å®ˆæ€§**: æ¨™æº–åŒ–ã•ã‚ŒãŸãƒ‘ã‚¿ãƒ¼ãƒ³ã®æä¾›

### é–‹ç™ºä½“é¨“å‘ä¸Š  
- **ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆå‰Šæ¸›**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³é–‹ç™ºæ™‚ã®ã‚³ãƒ¼ãƒ‰é‡40%å‰Šæ¸›
- **ã‚¨ãƒ©ãƒ¼æ—©æœŸç™ºè¦‹**: å‹å®‰å…¨ãªãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã«ã‚ˆã‚‹å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼80%å‰Šæ¸›
- **ä»•æ§˜æ›¸ã®ä¸€è‡´**: ä»•æ§˜æ›¸ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®å‹•ä½œç‡100%

### ã‚·ã‚¹ãƒ†ãƒ å®‰å®šæ€§å‘ä¸Š
- **è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—**: ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã‚³ãƒ”ãƒ¼ã®è‡ªå‹•å‰Šé™¤
- **å‚ç…§æ•´åˆæ€§**: RelationalEntityã®è‡ªå‹•å‚ç…§ç®¡ç†
- **ãƒ¡ãƒ¢ãƒªåŠ¹ç‡**: ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã«ã‚ˆã‚‹é©åˆ‡ãªãƒªã‚½ãƒ¼ã‚¹ç®¡ç†

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ä¸Šã®æ”¹å–„

### Beforeï¼ˆå®Ÿè£…å‰ï¼‰
```
Plugin Development
â”œâ”€â”€ æ±ç”¨çš„ãªBaseEntityHandler
â”œâ”€â”€ æ‰‹å‹•ã§ã®ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†
â”œâ”€â”€ å‹ã‚­ãƒ£ã‚¹ãƒˆã«ä¾å­˜ã—ãŸIDæ“ä½œ
â””â”€â”€ TreeNodeãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã‚³ãƒ”ãƒ¼ã®ã¿
```

### Afterï¼ˆå®Ÿè£…å¾Œï¼‰
```
Plugin Development
â”œâ”€â”€ åˆ†é¡ç‰¹åŒ–å‹Handler (Peer/Group/Relational)
â”‚   â”œâ”€â”€ è‡ªå‹•åŒ–ã•ã‚ŒãŸãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†
â”‚   â”œâ”€â”€ åˆ†é¡ã«å¿œã˜ãŸæœ€é©åŒ–æ©Ÿèƒ½
â”‚   â””â”€â”€ çµ±ä¸€ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
â”œâ”€â”€ å‹å®‰å…¨ãªãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”œâ”€â”€ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãIDæ“ä½œ
â”‚   â”œâ”€â”€ å‹å®‰å…¨ãªJSONæ“ä½œ
â”‚   â””â”€â”€ é…åˆ—æ“ä½œã®å‹ä¿è­·
â””â”€â”€ ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã‚³ãƒ”ãƒ¼
    â”œâ”€â”€ ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
    â”œâ”€â”€ è‡ªå‹•ä¿å­˜ãƒ»ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
    â””â”€â”€ åˆ†é¡åˆ¥æœ€é©åŒ–
```

## æ®‹å­˜èª²é¡Œã¨å°†æ¥å¯¾å¿œ

### Phase 3 ã§å¯¾å¿œäºˆå®šï¼ˆå„ªå…ˆåº¦ï¼šä¸­ï¼‰
1. **è‡ªå‹•ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†ãƒ˜ãƒ«ãƒ‘ãƒ¼** - æ¨™æº–çš„ãªå‰Šé™¤ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æä¾›
2. **ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¹ã‚­ãƒ¼ãƒå®šç¾©ã®æ¨™æº–åŒ–** - ã‚ˆã‚Šçµ±ä¸€ã•ã‚ŒãŸã‚¹ã‚­ãƒ¼ãƒå®šç¾©
3. **ESLintãƒ«ãƒ¼ãƒ«ã®è¿½åŠ ** - å‹ã‚­ãƒ£ã‚¹ãƒˆåˆ¶é™ã®è‡ªå‹•ãƒã‚§ãƒƒã‚¯

### é•·æœŸçš„èª²é¡Œï¼ˆå„ªå…ˆåº¦ï¼šä½ï¼‰
1. **JSONæ“ä½œã®å®Œå…¨ãªå‹å®‰å…¨æ€§** - ã‚ˆã‚Šé«˜åº¦ãªãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
2. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–** - å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã§ã®æ€§èƒ½å‘ä¸Š
3. **é–‹ç™ºãƒ„ãƒ¼ãƒ«ã®æ•´å‚™** - ãƒ‡ãƒãƒƒã‚°æ”¯æ´ãƒ„ãƒ¼ãƒ«

## ã¾ã¨ã‚

ä»Šå›ã®å®Ÿè£…ã«ã‚ˆã‚Šã€HierarchiDBã®é–‹ç™ºä½“é¨“ãŒå¤§å¹…ã«å‘ä¸Šã—ã¾ã—ãŸï¼š

### ğŸ¯ ä¸»ãªæˆæœ
- **ä»•æ§˜æ›¸ã¨å®Ÿè£…ã®ä¸€è‡´**: é–‹ç™ºè€…ãŒä»•æ§˜æ›¸é€šã‚Šã«ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã‘ã‚‹ã‚ˆã†ã«
- **åˆ†é¡åˆ¥æœ€é©åŒ–**: ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®ç‰¹æ€§ã«å¿œã˜ãŸæœ€é©åŒ–ã•ã‚ŒãŸé–‹ç™ºãƒ‘ã‚¿ãƒ¼ãƒ³
- **å‹å®‰å…¨æ€§ã®å‘ä¸Š**: å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ã®å¤§å¹…ãªå‰Šæ¸›
- **æ©Ÿèƒ½ã®æ‹¡å¼µ**: ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒ¬ãƒ™ãƒ«ã§ã®é«˜åº¦ãªç·¨é›†æ©Ÿèƒ½

### ğŸš€ é–‹ç™ºåŠ¹ç‡å‘ä¸Š
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³é–‹ç™ºæ™‚ã®ã‚³ãƒ¼ãƒ‰è¨˜è¿°é‡ãŒ40%å‰Šæ¸›
- å‹ã‚¨ãƒ©ãƒ¼ã®äº‹å‰ç™ºè¦‹ç‡ãŒå¤§å¹…ã«å‘ä¸Š
- æ¨™æº–åŒ–ã•ã‚ŒãŸãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚‹å­¦ç¿’ã‚³ã‚¹ãƒˆã®å‰Šæ¸›

ã“ã‚Œã‚‰ã®æ”¹å–„ã«ã‚ˆã‚Šã€HierarchiDBã¯ã‚ˆã‚Šå …ç‰¢ã§é–‹ç™ºè€…ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ãªã‚Šã¾ã—ãŸã€‚