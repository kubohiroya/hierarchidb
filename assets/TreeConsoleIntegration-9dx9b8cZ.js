import{g as Me,r as S,R as A,d as Ke,k as Je,l as pn,u as hn}from"./vendor-react-BP9jdMJE.js";import{c as vr}from"./assertThisInitialized-C6AqJUPC.js";import{d as xr,g as wr,r as mn,u as Sr,s as Or,c as ot,a as Cr,m as Er,f as gn}from"./createSimplePaletteValueFilter-BuD9q6B8.js";import{j as d}from"./jsx-runtime-D_zvdyIk.js";import{a as yn,c as bn,B as Be,T as Lt,C as vn}from"./Box-zDrc8-aq.js";import{u as xn,B as ce,b as Tr,I as jr,S as Pr,c as Ee,d as le,U as wn,R as Sn,C as On,e as Cn,F as En,f as Ft,D as Tn,K as Mt,M as _t,g as Te,L as je,h as jn,i as Pe,j as Dt,k as Pn,l as Rn,m as kn,n as In,P as Nn,o as An,p as Bn,q as qe,r as Ln,s as lt,t as Fn,v as ct,E as Mn,w as _n,T as Dn}from"./index-CyZumM2T.js";import{W as Xe}from"./index-DbUbEqh-.js";import{a as $n,c as Ve}from"./treeNodeConverter-aJJwZjp1.js";import{r as zn}from"./index-LrBs_WFz.js";import{u as Wn}from"./Paper-hI1Q5KHP.js";import{A as $t}from"./Alert-C-Br81AU.js";var Un=zn();const x=Me(Un);function Hn(e){return S.Children.toArray(e).filter(t=>S.isValidElement(t))}function Gn(e){return wr("MuiToggleButton",e)}const de=xr("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),Rr=S.createContext({}),kr=S.createContext(void 0);function qn(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.includes(e):e===t}const Vn=e=>{const{classes:t,fullWidth:r,selected:o,disabled:n,size:i,color:s}=e,a={root:["root",o&&"selected",n&&"disabled",r&&"fullWidth",`size${ot(i)}`,s]};return Cr(a,Gn,t)},Yn=Or(yn,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`size${ot(r.size)}`]]}})(Er(({theme:e})=>({...e.typography.button,borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active,[`&.${de.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${de.selected}`]:{color:(e.vars||e).palette.text.primary,backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.text.primary,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.selectedOpacity)}}}}},...Object.entries(e.palette).filter(gn()).map(([t])=>({props:{color:t},style:{[`&.${de.selected}`]:{color:(e.vars||e).palette[t].main,backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:e.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:e.typography.pxToRem(15)}}]}))),Hs=S.forwardRef(function(t,r){const{value:o,...n}=S.useContext(Rr),i=S.useContext(kr),s=mn({...n,selected:qn(t.value,o)},t),a=Sr({props:s,name:"MuiToggleButton"}),{children:l,className:f,color:u="standard",disabled:c=!1,disableFocusRipple:p=!1,fullWidth:h=!1,onChange:m,onClick:y,selected:O,size:v="medium",value:b,...C}=a,B={...a,color:u,disabled:c,disableFocusRipple:p,fullWidth:h,size:v},I=Vn(B),w=D=>{y&&(y(D,b),D.defaultPrevented)||m&&m(D,b)},N=i||"";return d.jsx(Yn,{className:vr(n.className,I.root,f,N),disabled:c,focusRipple:!p,ref:r,onClick:w,onChange:m,value:b,ownerState:B,"aria-pressed":O,...C,children:l})});function Kn(e){return wr("MuiToggleButtonGroup",e)}const z=xr("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),Jn=e=>{const{classes:t,orientation:r,fullWidth:o,disabled:n}=e,i={root:["root",r,o&&"fullWidth"],grouped:["grouped",`grouped${ot(r)}`,n&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Cr(i,Kn,t)},Xn=Or("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${z.grouped}`]:t.grouped},{[`& .${z.grouped}`]:t[`grouped${ot(r.orientation)}`]},{[`& .${z.firstButton}`]:t.firstButton},{[`& .${z.lastButton}`]:t.lastButton},{[`& .${z.middleButton}`]:t.middleButton},t.root,r.orientation==="vertical"&&t.vertical,r.fullWidth&&t.fullWidth]}})(Er(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${z.grouped}`]:{[`&.${z.selected} + .${z.grouped}.${z.selected}`]:{borderTop:0,marginTop:0}},[`& .${z.firstButton},& .${z.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${z.lastButton},& .${z.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${z.lastButton}.${de.disabled},& .${z.middleButton}.${de.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${z.grouped}`]:{[`&.${z.selected} + .${z.grouped}.${z.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${z.firstButton},& .${z.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${z.lastButton},& .${z.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${z.lastButton}.${de.disabled},& .${z.middleButton}.${de.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),Gs=S.forwardRef(function(t,r){const o=Sr({props:t,name:"MuiToggleButtonGroup"}),{children:n,className:i,color:s="standard",disabled:a=!1,exclusive:l=!1,fullWidth:f=!1,onChange:u,orientation:c="horizontal",size:p="medium",value:h,...m}=o,y={...o,disabled:a,fullWidth:f,orientation:c,size:p},O=Jn(y),v=S.useCallback((N,D)=>{if(!u)return;const H=h&&h.indexOf(D);let $;h&&H>=0?($=h.slice(),$.splice(H,1)):$=h?h.concat(D):[D],u(N,$)},[u,h]),b=S.useCallback((N,D)=>{u&&u(N,h===D?null:D)},[u,h]),C=S.useMemo(()=>({className:O.grouped,onChange:l?b:v,value:h,size:p,fullWidth:f,color:s,disabled:a}),[O.grouped,l,b,v,h,p,f,s,a]),B=Hn(n),I=B.length,w=N=>{const D=N===0,H=N===I-1;return D&&H?"":D?O.firstButton:H?O.lastButton:O.middleButton};return d.jsx(Xn,{role:"group",className:vr(O.root,i),ref:r,ownerState:y,...m,children:d.jsx(Rr.Provider,{value:C,children:B.map((N,D)=>d.jsx(kr.Provider,{value:w(D),children:N},D))})})}),qs=bn(d.jsx("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5M15 19l-6-2.11V5l6 2.11z"}));function Zn({searchText:e,onSearchTextChange:t}){return d.jsx(ce,{sx:{display:"flex",alignItems:"center",padding:"8px 16px",borderBottom:1,borderColor:"divider",backgroundColor:"background.paper"},children:d.jsx(Tr,{fullWidth:!0,size:"small",placeholder:"Search...",value:e,onChange:r=>t(r.target.value),InputProps:{startAdornment:d.jsx(jr,{position:"start",children:d.jsx(Pr,{fontSize:"small"})})}})})}function Qn({controller:e,hasTrashItems:t,onAction:r,rowClickAction:o="Select",onRowClickActionChange:n,canUndo:i=!1,canRedo:s=!1,canCopy:a=!1,canPaste:l=!1,canDuplicate:f=!1,canRemove:u=!1}){const[c,p]=S.useState(null),[h,m]=S.useState(null),[y,O]=S.useState(null),v=!!c,b=!!h,C=!!y,B=P=>{p(c?null:P.currentTarget)},I=()=>{p(null)},w=P=>{m(P.currentTarget)},N=()=>{m(null)},D=P=>{O(P.currentTarget)},H=()=>{O(null)},$=(P,L)=>{r?r(P,L):console.log(`Action: ${P}`,L||"- TODO: Connect to controller")},R=P=>{n?n(P):$("setRowClickAction",P)};return d.jsxs(ce,{sx:{display:"flex",alignItems:"center",gap:"20px",margin:"0 16px 2px",minHeight:"48px"},children:[d.jsx(ce,{sx:{minWidth:200},children:d.jsx(Tr,{size:"small",placeholder:"Search...",value:(e==null?void 0:e.searchText)||"",onChange:P=>{var L;try{(L=e==null?void 0:e.handleSearchTextChange)==null||L.call(e,P.target.value)}catch(U){console.warn("Search not implemented:",U)}},InputProps:{startAdornment:d.jsx(jr,{position:"start",children:d.jsx(Pr,{fontSize:"small"})})}})}),d.jsxs(Ee,{size:"small",children:[d.jsx(le,{title:"Undo (⌘+Z)",disabled:!i,onClick:()=>$("undo"),children:d.jsx(wn,{fontSize:"small"})}),d.jsx(le,{title:"Redo (⌘+Shift+Z)",disabled:!s,onClick:()=>$("redo"),children:d.jsx(Sn,{fontSize:"small"})})]}),d.jsxs(Ee,{size:"small",children:[d.jsx(le,{title:"Copy (⌘+C)",disabled:!a,onClick:()=>$("copy"),children:d.jsx(On,{fontSize:"small"})}),d.jsx(le,{title:"Paste (⌘+V)",disabled:!l,onClick:()=>$("paste"),children:d.jsx(Cn,{fontSize:"small"})})]}),d.jsxs(Ee,{size:"small",children:[d.jsx(le,{title:"Duplicate (⌘+D)",disabled:!f,onClick:()=>$("duplicate"),children:d.jsx(En,{fontSize:"small"})}),d.jsx(le,{title:"Remove (⌘+X)",disabled:!u,onClick:()=>$("remove"),color:"error",children:d.jsx(Ft,{fontSize:"small"})})]}),d.jsx(Ee,{size:"small",children:d.jsx(le,{disabled:!t,endIcon:d.jsx(Mt,{}),onClick:D,color:"error",children:d.jsx(Tn,{fontSize:"small"})})}),d.jsxs(_t,{anchorEl:y,open:C,onClose:H,children:[d.jsxs(Te,{onClick:()=>{$("restore"),H()},children:[d.jsx(je,{children:d.jsx(jn,{fontSize:"small"})}),d.jsx(Pe,{children:"Restore from Trash"})]}),d.jsxs(Te,{onClick:()=>{$("empty"),H()},children:[d.jsx(je,{children:d.jsx(Ft,{fontSize:"small"})}),d.jsx(Pe,{children:"Remove All from Trash"})]})]}),d.jsxs(ce,{sx:{marginLeft:"auto",display:"flex",alignItems:"center",gap:1},children:[d.jsx(Ee,{size:"small",children:d.jsx(le,{endIcon:d.jsx(Mt,{}),onClick:w,color:"primary",children:d.jsx(Dt,{fontSize:"small"})})}),d.jsxs(_t,{anchorEl:h,open:b,onClose:N,children:[d.jsxs(Te,{onClick:()=>{$("import"),N()},children:[d.jsx(je,{children:d.jsx(Pn,{fontSize:"small"})}),d.jsx(Pe,{children:"Import from JSON File"})]}),d.jsxs(Te,{onClick:()=>{$("import-template",{templateId:"population-2023"}),N()},children:[d.jsx(je,{children:d.jsx(Dt,{fontSize:"small"})}),d.jsx(Pe,{children:"Import Template: Population Data"})]}),d.jsxs(Te,{onClick:()=>{$("export"),N()},children:[d.jsx(je,{children:d.jsx(Rn,{fontSize:"small"})}),d.jsx(Pe,{children:"Export to JSON File"})]})]}),d.jsx(kn,{size:"small",onClick:B,"aria-label":"Settings",children:d.jsx(In,{fontSize:"small"})}),d.jsx(Nn,{open:v,anchorEl:c,placement:"bottom-end",children:d.jsx(An,{onClickAway:I,children:d.jsxs(Bn,{sx:{p:2,minWidth:250},children:[d.jsx(qe,{variant:"subtitle2",gutterBottom:!0,children:"Row Click Action"}),d.jsxs(Ln,{value:o,onChange:P=>R(P.target.value),children:[d.jsx(lt,{value:"Select",control:d.jsx(ct,{size:"small"}),label:d.jsxs(ce,{sx:{display:"flex",alignItems:"center",gap:.5},children:[d.jsx(Fn,{fontSize:"small"}),d.jsx(qe,{variant:"body2",children:"Select"})]})}),d.jsx(lt,{value:"Edit",control:d.jsx(ct,{size:"small"}),label:d.jsxs(ce,{sx:{display:"flex",alignItems:"center",gap:.5},children:[d.jsx(Mn,{fontSize:"small"}),d.jsx(qe,{variant:"body2",children:"Edit"})]})}),d.jsx(lt,{value:"Navigate",control:d.jsx(ct,{size:"small"}),label:d.jsxs(ce,{sx:{display:"flex",alignItems:"center",gap:.5},children:[d.jsx(_n,{fontSize:"small"}),d.jsx(qe,{variant:"body2",children:"Navigate"})]})})]})]})})})]})]})}function eo(e){const{hideConsole:t=!1,showSearchOnly:r=!1,isProjectsPage:o=!1,isResourcesPage:n=!1,controller:i,hasTrashItems:s=!1,onAction:a,rowClickAction:l="Select",onRowClickActionChange:f,canUndo:u=!1,canRedo:c=!1,canCopy:p=!1,canPaste:h=!1,canDuplicate:m=!1,canRemove:y=!1}=e,O=xn();return t?null:r?d.jsx(Zn,{searchText:(i==null?void 0:i.searchText)||"",onSearchTextChange:(i==null?void 0:i.handleSearchTextChange)||(()=>{})}):o||n?d.jsx(ce,{"data-testid":"tree-console-toolbar",className:"tree-console-toolbar","aria-label":"Tree console toolbar",style:{backgroundColor:O.palette.background.paper},children:d.jsx(Qn,{controller:i,hasTrashItems:s,onAction:a,rowClickAction:l,onRowClickActionChange:f,canUndo:u,canRedo:c,canCopy:p,canPaste:h,canDuplicate:m,canRemove:y})}):null}function to({parentNodeId:e,selectedNodeIds:t=[],onSuccess:r,onError:o}){const[n,i]=S.useState(!1),s=S.useCallback(async f=>{var u;if(!e){o==null||o("No parent node selected");return}i(!0);try{const h=await(await Xe.getSingleton()).getAPI().importFromTemplate({templateId:f,targetParentId:e});if(h.success)return r==null||r(`Template imported successfully: ${((u=h.nodeIds)==null?void 0:u.length)||0} nodes created`),h.nodeIds;throw new Error(h.error||"Import failed")}catch(c){const p=c instanceof Error?c.message:String(c);return o==null||o(p),console.error("Template import failed:",c),null}finally{i(!1)}},[e,r,o]),a=S.useCallback(async f=>{var u;if(!e){o==null||o("No parent node selected");return}i(!0);try{const p=(await Xe.getSingleton()).getAPI(),h=await f.text(),m=JSON.parse(h),y=await p.importFromFile({data:m,targetParentId:e});if(y.success)return r==null||r(`File imported successfully: ${((u=y.nodeIds)==null?void 0:u.length)||0} nodes created`),y.nodeIds;throw new Error(y.error||"Import failed")}catch(c){const p=c instanceof Error?c.message:String(c);return o==null||o(p),console.error("File import failed:",c),null}finally{i(!1)}},[e,r,o]),l=S.useCallback(async(f="json")=>{if(t.length===0){o==null||o("No nodes selected for export");return}i(!0);try{const p=await(await Xe.getSingleton()).getAPI().exportTreeNodes({nodeIds:t,format:f});if(p.success&&p.blob){const h=URL.createObjectURL(p.blob),m=document.createElement("a");return m.href=h,m.download=p.filename||`export.${f}`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(h),r==null||r("Export completed successfully"),!0}else throw new Error(p.error||"Export failed")}catch(u){const c=u instanceof Error?u.message:String(u);return o==null||o(c),console.error("Export failed:",u),!1}finally{i(!1)}},[t,r,o]);return{loading:n,handleTemplateImport:s,handleFileImport:a,handleExport:l}}function ro({pageTreeNodeId:e,pageTreeNode:t}){const[r,o]=S.useState(null),[n,i]=S.useState(!0),[s,a]=S.useState(null),[l,f]=S.useState([]),[u,c]=S.useState([]),[p,h]=S.useState([]),[m,y]=S.useState(""),[O,v]=S.useState("list"),[b,C]=S.useState({loading:!1,error:null,sortBy:"name",sortDirection:"asc",filterBy:"",availableFilters:["folder","basemap","shapes"],canGoBack:!1,canGoForward:!1,canUndo:!1,canRedo:!1,canPaste:!1});S.useEffect(()=>{let R=!0;return(async()=>{try{console.log("Initializing WorkerAPIClient for TreeConsole...");const L=await Xe.getSingleton();R&&(o(L),i(!1),console.log("WorkerAPIClient initialized successfully for TreeConsole"))}catch(L){console.error("Failed to initialize WorkerAPIClient for TreeConsole:",L),R&&(a(L instanceof Error?L.message:String(L)),i(!1))}})(),()=>{R=!1}},[]),S.useEffect(()=>{if(!r||!e)return;(async()=>{C(P=>({...P,loading:!0,error:null}));try{console.log("Loading tree data for node:",e);const L=await r.getAPI().getChildren({parentTreeNodeId:e});console.log("Loaded children:",L);const U=L.map(Ve);f(U),L.length>0&&h(G=>[...new Set([...G,e])]),C(G=>({...G,loading:!1}))}catch(P){console.error("Failed to load tree data:",P),C(L=>({...L,loading:!1,error:P instanceof Error?P.message:String(P)}))}})()},[r,e]);const B=S.useMemo(()=>$n(),[]),I=S.useMemo(()=>t?[{id:t.treeNodeId,name:t.name,nodeType:t.treeNodeType,isClickable:!0}]:[],[t]),w=!0,N=u.length===1,D=u.length>0,{handleExport:H}=to({parentNodeId:e,selectedNodeIds:u,onSuccess:R=>{console.log(R),r&&e&&r.getAPI().getChildren({parentTreeNodeId:e}).then(P=>{const L=P.map(Ve);f(L)})},onError:R=>{C(P=>({...P,error:R}))}}),$=S.useMemo(()=>({handleNodeClick:R=>{console.log("Node clicked:",R)},handleNodeSelect:(R,P)=>{c(L=>P?[...new Set([...L,R])]:L.filter(U=>U!==R))},handleNodeExpand:async(R,P)=>{if(h(L=>P?[...new Set([...L,R])]:L.filter(U=>U!==R)),P&&r)try{const U=await r.getAPI().getChildren({parentTreeNodeId:R});f(G=>{const oe=[...G],ge=oe.findIndex(ie=>ie.id===R);if(ge>=0){const ie=oe[ge];ie!=null&&ie.id&&(oe[ge]={...ie,children:U.map(Ge=>Ve(Ge))})}return oe})}catch(L){console.error("Failed to load children for node:",R,L)}},handleSearchChange:R=>{y(R)},handleSearchClear:()=>{y("")},handleCreate:()=>{console.log("Create action triggered")},handleEdit:()=>{console.log("Edit action triggered for:",u)},handleDelete:()=>{console.log("Delete action triggered for:",u)},handleRefresh:async()=>{if(!(!r||!e)){C(R=>({...R,loading:!0}));try{const L=(await r.getAPI().getChildren({parentTreeNodeId:e})).map(Ve);f(L)}catch(R){console.error("Failed to refresh tree data:",R),C(P=>({...P,error:R instanceof Error?R.message:String(R)}))}finally{C(R=>({...R,loading:!1}))}}},handleExpandAll:()=>{const R=l.map(P=>P.id);h(R)},handleCollapseAll:()=>{h([])},handleSort:R=>{C(P=>({...P,sortBy:R,sortDirection:P.sortBy===R&&P.sortDirection==="asc"?"desc":"asc"}))},handleFilterChange:R=>{C(P=>({...P,filterBy:R}))},handleViewModeChange:R=>{v(R)},handleBreadcrumbNavigate:R=>{console.log("Breadcrumb navigate to:",R)},handleNavigateBack:()=>{console.log("Navigate back")},handleNavigateForward:()=>{console.log("Navigate forward")},handleContextMenuAction:async(R,P)=>{console.log("Context menu action:",R,"for node:",P),R==="export"&&(P!=null&&P.id)&&await H("json")},handleUndo:()=>{console.log("Undo action triggered")},handleRedo:()=>{console.log("Redo action triggered")},handleCopy:()=>{console.log("Copy action triggered for:",u)},handlePaste:()=>{console.log("Paste action triggered")},handleDuplicate:()=>{console.log("Duplicate action triggered for:",u)},handleImport:()=>{console.log("Import action triggered")},handleExport:async()=>{console.log("Export action triggered"),await H("json")}}),[r,e,u,l,H]);return{workerClient:r,loading:n,error:s,treeData:l,columns:B,breadcrumbItems:I,selectedIds:u,expandedIds:p,searchTerm:m,viewMode:O,canCreate:w,canEdit:N,canDelete:D,actions:$,state:b}}function Ir(e){return t=>typeof t===e}var no=Ir("function"),oo=e=>e===null,zt=e=>Object.prototype.toString.call(e).slice(8,-1)==="RegExp",Wt=e=>!io(e)&&!oo(e)&&(no(e)||typeof e=="object"),io=Ir("undefined");function so(e,t){const{length:r}=e;if(r!==t.length)return!1;for(let o=r;o--!==0;)if(!V(e[o],t[o]))return!1;return!0}function ao(e,t){if(e.byteLength!==t.byteLength)return!1;const r=new DataView(e.buffer),o=new DataView(t.buffer);let n=e.byteLength;for(;n--;)if(r.getUint8(n)!==o.getUint8(n))return!1;return!0}function lo(e,t){if(e.size!==t.size)return!1;for(const r of e.entries())if(!t.has(r[0]))return!1;for(const r of e.entries())if(!V(r[1],t.get(r[0])))return!1;return!0}function co(e,t){if(e.size!==t.size)return!1;for(const r of e.entries())if(!t.has(r[0]))return!1;return!0}function V(e,t){if(e===t)return!0;if(e&&Wt(e)&&t&&Wt(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return so(e,t);if(e instanceof Map&&t instanceof Map)return lo(e,t);if(e instanceof Set&&t instanceof Set)return co(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return ao(e,t);if(zt(e)&&zt(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(let n=r.length;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,r[n]))return!1;for(let n=r.length;n--!==0;){const i=r[n];if(!(i==="_owner"&&e.$$typeof)&&!V(e[i],t[i]))return!1}return!0}return Number.isNaN(e)&&Number.isNaN(t)?!0:e===t}var uo=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],fo=["bigint","boolean","null","number","string","symbol","undefined"];function it(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(t))return"HTMLElement";if(po(t))return t}function Z(e){return t=>it(t)===e}function po(e){return uo.includes(e)}function Se(e){return t=>typeof t===e}function ho(e){return fo.includes(e)}var mo=["innerHTML","ownerDocument","style","attributes","nodeValue"];function E(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(E.array(e))return"Array";if(E.plainFunction(e))return"Function";const t=it(e);return t||"Object"}E.array=Array.isArray;E.arrayOf=(e,t)=>!E.array(e)&&!E.function(t)?!1:e.every(r=>t(r));E.asyncGeneratorFunction=e=>it(e)==="AsyncGeneratorFunction";E.asyncFunction=Z("AsyncFunction");E.bigint=Se("bigint");E.boolean=e=>e===!0||e===!1;E.date=Z("Date");E.defined=e=>!E.undefined(e);E.domElement=e=>E.object(e)&&!E.plainObject(e)&&e.nodeType===1&&E.string(e.nodeName)&&mo.every(t=>t in e);E.empty=e=>E.string(e)&&e.length===0||E.array(e)&&e.length===0||E.object(e)&&!E.map(e)&&!E.set(e)&&Object.keys(e).length===0||E.set(e)&&e.size===0||E.map(e)&&e.size===0;E.error=Z("Error");E.function=Se("function");E.generator=e=>E.iterable(e)&&E.function(e.next)&&E.function(e.throw);E.generatorFunction=Z("GeneratorFunction");E.instanceOf=(e,t)=>!e||!t?!1:Object.getPrototypeOf(e)===t.prototype;E.iterable=e=>!E.nullOrUndefined(e)&&E.function(e[Symbol.iterator]);E.map=Z("Map");E.nan=e=>Number.isNaN(e);E.null=e=>e===null;E.nullOrUndefined=e=>E.null(e)||E.undefined(e);E.number=e=>Se("number")(e)&&!E.nan(e);E.numericString=e=>E.string(e)&&e.length>0&&!Number.isNaN(Number(e));E.object=e=>!E.nullOrUndefined(e)&&(E.function(e)||typeof e=="object");E.oneOf=(e,t)=>E.array(e)?e.indexOf(t)>-1:!1;E.plainFunction=Z("Function");E.plainObject=e=>{if(it(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};E.primitive=e=>E.null(e)||ho(typeof e);E.promise=Z("Promise");E.propertyOf=(e,t,r)=>{if(!E.object(e)||!t)return!1;const o=e[t];return E.function(r)?r(o):E.defined(o)};E.regexp=Z("RegExp");E.set=Z("Set");E.string=Se("string");E.symbol=Se("symbol");E.undefined=Se("undefined");E.weakMap=Z("WeakMap");E.weakSet=Z("WeakSet");var T=E;function go(...e){return e.every(t=>T.string(t)||T.array(t)||T.plainObject(t))}function yo(e,t,r){return Nr(e,t)?[e,t].every(T.array)?!e.some(Vt(r))&&t.some(Vt(r)):[e,t].every(T.plainObject)?!Object.entries(e).some(qt(r))&&Object.entries(t).some(qt(r)):t===r:!1}function Ut(e,t,r){const{actual:o,key:n,previous:i,type:s}=r,a=re(e,n),l=re(t,n);let f=[a,l].every(T.number)&&(s==="increased"?a<l:a>l);return T.undefined(o)||(f=f&&l===o),T.undefined(i)||(f=f&&a===i),f}function Ht(e,t,r){const{key:o,type:n,value:i}=r,s=re(e,o),a=re(t,o),l=n==="added"?s:a,f=n==="added"?a:s;if(!T.nullOrUndefined(i)){if(T.defined(l)){if(T.array(l)||T.plainObject(l))return yo(l,f,i)}else return V(f,i);return!1}return[s,a].every(T.array)?!f.every(St(l)):[s,a].every(T.plainObject)?bo(Object.keys(l),Object.keys(f)):![s,a].every(u=>T.primitive(u)&&T.defined(u))&&(n==="added"?!T.defined(s)&&T.defined(a):T.defined(s)&&!T.defined(a))}function Gt(e,t,{key:r}={}){let o=re(e,r),n=re(t,r);if(!Nr(o,n))throw new TypeError("Inputs have different types");if(!go(o,n))throw new TypeError("Inputs don't have length");return[o,n].every(T.plainObject)&&(o=Object.keys(o),n=Object.keys(n)),[o,n]}function qt(e){return([t,r])=>T.array(e)?V(e,r)||e.some(o=>V(o,r)||T.array(r)&&St(r)(o)):T.plainObject(e)&&e[t]?!!e[t]&&V(e[t],r):V(e,r)}function bo(e,t){return t.some(r=>!e.includes(r))}function Vt(e){return t=>T.array(e)?e.some(r=>V(r,t)||T.array(t)&&St(t)(r)):V(e,t)}function Re(e,t){return T.array(e)?e.some(r=>V(r,t)):V(e,t)}function St(e){return t=>e.some(r=>V(r,t))}function Nr(...e){return e.every(T.array)||e.every(T.number)||e.every(T.plainObject)||e.every(T.string)}function re(e,t){return T.plainObject(e)||T.array(e)?T.string(t)?t.split(".").reduce((o,n)=>o&&o[n],e):T.number(t)?e[t]:e:e}function et(e,t){if([e,t].some(T.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every(u=>T.plainObject(u)||T.array(u)))throw new Error("Expected plain objects or array");return{added:(u,c)=>{try{return Ht(e,t,{key:u,type:"added",value:c})}catch{return!1}},changed:(u,c,p)=>{try{const h=re(e,u),m=re(t,u),y=T.defined(c),O=T.defined(p);if(y||O){const v=O?Re(p,h):!Re(c,h),b=Re(c,m);return v&&b}return[h,m].every(T.array)||[h,m].every(T.plainObject)?!V(h,m):h!==m}catch{return!1}},changedFrom:(u,c,p)=>{if(!T.defined(u))return!1;try{const h=re(e,u),m=re(t,u),y=T.defined(p);return Re(c,h)&&(y?Re(p,m):!y)}catch{return!1}},decreased:(u,c,p)=>{if(!T.defined(u))return!1;try{return Ut(e,t,{key:u,actual:c,previous:p,type:"decreased"})}catch{return!1}},emptied:u=>{try{const[c,p]=Gt(e,t,{key:u});return!!c.length&&!p.length}catch{return!1}},filled:u=>{try{const[c,p]=Gt(e,t,{key:u});return!c.length&&!!p.length}catch{return!1}},increased:(u,c,p)=>{if(!T.defined(u))return!1;try{return Ut(e,t,{key:u,actual:c,previous:p,type:"increased"})}catch{return!1}},removed:(u,c)=>{try{return Ht(e,t,{key:u,type:"removed",value:c})}catch{return!1}}}}var ut,Yt;function vo(){if(Yt)return ut;Yt=1;var e=new Error("Element already at target scroll position"),t=new Error("Scroll cancelled"),r=Math.min,o=Date.now;ut={left:n("scrollLeft"),top:n("scrollTop")};function n(a){return function(f,u,c,p){c=c||{},typeof c=="function"&&(p=c,c={}),typeof p!="function"&&(p=s);var h=o(),m=f[a],y=c.ease||i,O=isNaN(c.duration)?350:+c.duration,v=!1;return m===u?p(e,f[a]):requestAnimationFrame(C),b;function b(){v=!0}function C(B){if(v)return p(t,f[a]);var I=o(),w=r(1,(I-h)/O),N=y(w);f[a]=N*(u-m)+m,w<1?requestAnimationFrame(C):requestAnimationFrame(function(){p(null,f[a])})}}}function i(a){return .5*(1-Math.cos(Math.PI*a))}function s(){}return ut}var xo=vo();const wo=Me(xo);var Ze={exports:{}},So=Ze.exports,Kt;function Oo(){return Kt||(Kt=1,(function(e){(function(t,r){e.exports?e.exports=r():t.Scrollparent=r()})(So,function(){function t(o){var n=getComputedStyle(o,null).getPropertyValue("overflow");return n.indexOf("scroll")>-1||n.indexOf("auto")>-1}function r(o){if(o instanceof HTMLElement||o instanceof SVGElement){for(var n=o.parentNode;n.parentNode;){if(t(n))return n;n=n.parentNode}return document.scrollingElement||document.documentElement}}return r})})(Ze)),Ze.exports}var Co=Oo();const Ar=Me(Co);var ft,Jt;function Eo(){if(Jt)return ft;Jt=1;var e=function(o){return Object.prototype.hasOwnProperty.call(o,"props")},t=function(o,n){return o+r(n)},r=function(o){return o===null||typeof o=="boolean"||typeof o>"u"?"":typeof o=="number"?o.toString():typeof o=="string"?o:Array.isArray(o)?o.reduce(t,""):e(o)&&Object.prototype.hasOwnProperty.call(o.props,"children")?r(o.props.children):""};return r.default=r,ft=r,ft}var To=Eo();const Xt=Me(To);var dt,Zt;function jo(){if(Zt)return dt;Zt=1;var e=function(b){return t(b)&&!r(b)};function t(v){return!!v&&typeof v=="object"}function r(v){var b=Object.prototype.toString.call(v);return b==="[object RegExp]"||b==="[object Date]"||i(v)}var o=typeof Symbol=="function"&&Symbol.for,n=o?Symbol.for("react.element"):60103;function i(v){return v.$$typeof===n}function s(v){return Array.isArray(v)?[]:{}}function a(v,b){return b.clone!==!1&&b.isMergeableObject(v)?y(s(v),v,b):v}function l(v,b,C){return v.concat(b).map(function(B){return a(B,C)})}function f(v,b){if(!b.customMerge)return y;var C=b.customMerge(v);return typeof C=="function"?C:y}function u(v){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(v).filter(function(b){return Object.propertyIsEnumerable.call(v,b)}):[]}function c(v){return Object.keys(v).concat(u(v))}function p(v,b){try{return b in v}catch{return!1}}function h(v,b){return p(v,b)&&!(Object.hasOwnProperty.call(v,b)&&Object.propertyIsEnumerable.call(v,b))}function m(v,b,C){var B={};return C.isMergeableObject(v)&&c(v).forEach(function(I){B[I]=a(v[I],C)}),c(b).forEach(function(I){h(v,I)||(p(v,I)&&C.isMergeableObject(b[I])?B[I]=f(I,C)(v[I],b[I],C):B[I]=a(b[I],C))}),B}function y(v,b,C){C=C||{},C.arrayMerge=C.arrayMerge||l,C.isMergeableObject=C.isMergeableObject||e,C.cloneUnlessOtherwiseSpecified=a;var B=Array.isArray(b),I=Array.isArray(v),w=B===I;return w?B?C.arrayMerge(v,b,C):m(v,b,C):a(b,C)}y.all=function(b,C){if(!Array.isArray(b))throw new Error("first argument should be an array");return b.reduce(function(B,I){return y(B,I,C)},{})};var O=y;return dt=O,dt}var Po=jo();const X=Me(Po);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var _e=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",Ro=(function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(_e&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0})();function ko(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}function Io(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},Ro))}}var No=_e&&window.Promise,Ao=No?ko:Io;function Br(e){var t={};return e&&t.toString.call(e)==="[object Function]"}function me(e,t){if(e.nodeType!==1)return[];var r=e.ownerDocument.defaultView,o=r.getComputedStyle(e,null);return t?o[t]:o}function Ot(e){return e.nodeName==="HTML"?e:e.parentNode||e.host}function De(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=me(e),r=t.overflow,o=t.overflowX,n=t.overflowY;return/(auto|scroll|overlay)/.test(r+n+o)?e:De(Ot(e))}function Lr(e){return e&&e.referenceNode?e.referenceNode:e}var Qt=_e&&!!(window.MSInputMethodContext&&document.documentMode),er=_e&&/MSIE 10/.test(navigator.userAgent);function Oe(e){return e===11?Qt:e===10?er:Qt||er}function be(e){if(!e)return document.documentElement;for(var t=Oe(10)?document.body:null,r=e.offsetParent||null;r===t&&e.nextElementSibling;)r=(e=e.nextElementSibling).offsetParent;var o=r&&r.nodeName;return!o||o==="BODY"||o==="HTML"?e?e.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(r.nodeName)!==-1&&me(r,"position")==="static"?be(r):r}function Bo(e){var t=e.nodeName;return t==="BODY"?!1:t==="HTML"||be(e.firstElementChild)===e}function gt(e){return e.parentNode!==null?gt(e.parentNode):e}function tt(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var r=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,o=r?e:t,n=r?t:e,i=document.createRange();i.setStart(o,0),i.setEnd(n,0);var s=i.commonAncestorContainer;if(e!==s&&t!==s||o.contains(n))return Bo(s)?s:be(s);var a=gt(e);return a.host?tt(a.host,t):tt(e,gt(t).host)}function ve(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",r=t==="top"?"scrollTop":"scrollLeft",o=e.nodeName;if(o==="BODY"||o==="HTML"){var n=e.ownerDocument.documentElement,i=e.ownerDocument.scrollingElement||n;return i[r]}return e[r]}function Lo(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=ve(t,"top"),n=ve(t,"left"),i=r?-1:1;return e.top+=o*i,e.bottom+=o*i,e.left+=n*i,e.right+=n*i,e}function tr(e,t){var r=t==="x"?"Left":"Top",o=r==="Left"?"Right":"Bottom";return parseFloat(e["border"+r+"Width"])+parseFloat(e["border"+o+"Width"])}function rr(e,t,r,o){return Math.max(t["offset"+e],t["scroll"+e],r["client"+e],r["offset"+e],r["scroll"+e],Oe(10)?parseInt(r["offset"+e])+parseInt(o["margin"+(e==="Height"?"Top":"Left")])+parseInt(o["margin"+(e==="Height"?"Bottom":"Right")]):0)}function Fr(e){var t=e.body,r=e.documentElement,o=Oe(10)&&getComputedStyle(r);return{height:rr("Height",t,r,o),width:rr("Width",t,r,o)}}var Fo=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Mo=(function(){function e(t,r){for(var o=0;o<r.length;o++){var n=r[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}})(),xe=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};function fe(e){return K({},e,{right:e.left+e.width,bottom:e.top+e.height})}function yt(e){var t={};try{if(Oe(10)){t=e.getBoundingClientRect();var r=ve(e,"top"),o=ve(e,"left");t.top+=r,t.left+=o,t.bottom+=r,t.right+=o}else t=e.getBoundingClientRect()}catch{}var n={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i=e.nodeName==="HTML"?Fr(e.ownerDocument):{},s=i.width||e.clientWidth||n.width,a=i.height||e.clientHeight||n.height,l=e.offsetWidth-s,f=e.offsetHeight-a;if(l||f){var u=me(e);l-=tr(u,"x"),f-=tr(u,"y"),n.width-=l,n.height-=f}return fe(n)}function Ct(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=Oe(10),n=t.nodeName==="HTML",i=yt(e),s=yt(t),a=De(e),l=me(t),f=parseFloat(l.borderTopWidth),u=parseFloat(l.borderLeftWidth);r&&n&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var c=fe({top:i.top-s.top-f,left:i.left-s.left-u,width:i.width,height:i.height});if(c.marginTop=0,c.marginLeft=0,!o&&n){var p=parseFloat(l.marginTop),h=parseFloat(l.marginLeft);c.top-=f-p,c.bottom-=f-p,c.left-=u-h,c.right-=u-h,c.marginTop=p,c.marginLeft=h}return(o&&!r?t.contains(a):t===a&&a.nodeName!=="BODY")&&(c=Lo(c,t)),c}function _o(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=e.ownerDocument.documentElement,o=Ct(e,r),n=Math.max(r.clientWidth,window.innerWidth||0),i=Math.max(r.clientHeight,window.innerHeight||0),s=t?0:ve(r),a=t?0:ve(r,"left"),l={top:s-o.top+o.marginTop,left:a-o.left+o.marginLeft,width:n,height:i};return fe(l)}function Mr(e){var t=e.nodeName;if(t==="BODY"||t==="HTML")return!1;if(me(e,"position")==="fixed")return!0;var r=Ot(e);return r?Mr(r):!1}function _r(e){if(!e||!e.parentElement||Oe())return document.documentElement;for(var t=e.parentElement;t&&me(t,"transform")==="none";)t=t.parentElement;return t||document.documentElement}function Et(e,t,r,o){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,i={top:0,left:0},s=n?_r(e):tt(e,Lr(t));if(o==="viewport")i=_o(s,n);else{var a=void 0;o==="scrollParent"?(a=De(Ot(t)),a.nodeName==="BODY"&&(a=e.ownerDocument.documentElement)):o==="window"?a=e.ownerDocument.documentElement:a=o;var l=Ct(a,s,n);if(a.nodeName==="HTML"&&!Mr(s)){var f=Fr(e.ownerDocument),u=f.height,c=f.width;i.top+=l.top-l.marginTop,i.bottom=u+l.top,i.left+=l.left-l.marginLeft,i.right=c+l.left}else i=l}r=r||0;var p=typeof r=="number";return i.left+=p?r:r.left||0,i.top+=p?r:r.top||0,i.right-=p?r:r.right||0,i.bottom-=p?r:r.bottom||0,i}function Do(e){var t=e.width,r=e.height;return t*r}function Dr(e,t,r,o,n){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(e.indexOf("auto")===-1)return e;var s=Et(r,o,i,n),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},l=Object.keys(a).map(function(p){return K({key:p},a[p],{area:Do(a[p])})}).sort(function(p,h){return h.area-p.area}),f=l.filter(function(p){var h=p.width,m=p.height;return h>=r.clientWidth&&m>=r.clientHeight}),u=f.length>0?f[0].key:l[0].key,c=e.split("-")[1];return u+(c?"-"+c:"")}function $r(e,t,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,n=o?_r(t):tt(t,Lr(r));return Ct(r,n,o)}function zr(e){var t=e.ownerDocument.defaultView,r=t.getComputedStyle(e),o=parseFloat(r.marginTop||0)+parseFloat(r.marginBottom||0),n=parseFloat(r.marginLeft||0)+parseFloat(r.marginRight||0),i={width:e.offsetWidth+n,height:e.offsetHeight+o};return i}function rt(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(r){return t[r]})}function Wr(e,t,r){r=r.split("-")[0];var o=zr(e),n={width:o.width,height:o.height},i=["right","left"].indexOf(r)!==-1,s=i?"top":"left",a=i?"left":"top",l=i?"height":"width",f=i?"width":"height";return n[s]=t[s]+t[l]/2-o[l]/2,r===a?n[a]=t[a]-o[f]:n[a]=t[rt(a)],n}function $e(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function $o(e,t,r){if(Array.prototype.findIndex)return e.findIndex(function(n){return n[t]===r});var o=$e(e,function(n){return n[t]===r});return e.indexOf(o)}function Ur(e,t,r){var o=r===void 0?e:e.slice(0,$o(e,"name",r));return o.forEach(function(n){n.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=n.function||n.fn;n.enabled&&Br(i)&&(t.offsets.popper=fe(t.offsets.popper),t.offsets.reference=fe(t.offsets.reference),t=i(t,n))}),t}function zo(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=$r(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=Dr(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=Wr(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=Ur(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function Hr(e,t){return e.some(function(r){var o=r.name,n=r.enabled;return n&&o===t})}function Tt(e){for(var t=[!1,"ms","Webkit","Moz","O"],r=e.charAt(0).toUpperCase()+e.slice(1),o=0;o<t.length;o++){var n=t[o],i=n?""+n+r:e;if(typeof document.body.style[i]<"u")return i}return null}function Wo(){return this.state.isDestroyed=!0,Hr(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Tt("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Gr(e){var t=e.ownerDocument;return t?t.defaultView:window}function qr(e,t,r,o){var n=e.nodeName==="BODY",i=n?e.ownerDocument.defaultView:e;i.addEventListener(t,r,{passive:!0}),n||qr(De(i.parentNode),t,r,o),o.push(i)}function Uo(e,t,r,o){r.updateBound=o,Gr(e).addEventListener("resize",r.updateBound,{passive:!0});var n=De(e);return qr(n,"scroll",r.updateBound,r.scrollParents),r.scrollElement=n,r.eventsEnabled=!0,r}function Ho(){this.state.eventsEnabled||(this.state=Uo(this.reference,this.options,this.state,this.scheduleUpdate))}function Go(e,t){return Gr(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(r){r.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function qo(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=Go(this.reference,this.state))}function jt(e){return e!==""&&!isNaN(parseFloat(e))&&isFinite(e)}function bt(e,t){Object.keys(t).forEach(function(r){var o="";["width","height","top","right","bottom","left"].indexOf(r)!==-1&&jt(t[r])&&(o="px"),e.style[r]=t[r]+o})}function Vo(e,t){Object.keys(t).forEach(function(r){var o=t[r];o!==!1?e.setAttribute(r,t[r]):e.removeAttribute(r)})}function Yo(e){return bt(e.instance.popper,e.styles),Vo(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&bt(e.arrowElement,e.arrowStyles),e}function Ko(e,t,r,o,n){var i=$r(n,t,e,r.positionFixed),s=Dr(r.placement,i,t,e,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return t.setAttribute("x-placement",s),bt(t,{position:r.positionFixed?"fixed":"absolute"}),r}function Jo(e,t){var r=e.offsets,o=r.popper,n=r.reference,i=Math.round,s=Math.floor,a=function(v){return v},l=i(n.width),f=i(o.width),u=["left","right"].indexOf(e.placement)!==-1,c=e.placement.indexOf("-")!==-1,p=l%2===f%2,h=l%2===1&&f%2===1,m=t?u||c||p?i:s:a,y=t?i:a;return{left:m(h&&!c&&t?o.left-1:o.left),top:y(o.top),bottom:y(o.bottom),right:m(o.right)}}var Xo=_e&&/Firefox/i.test(navigator.userAgent);function Zo(e,t){var r=t.x,o=t.y,n=e.offsets.popper,i=$e(e.instance.modifiers,function(C){return C.name==="applyStyle"}).gpuAcceleration;i!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=i!==void 0?i:t.gpuAcceleration,a=be(e.instance.popper),l=yt(a),f={position:n.position},u=Jo(e,window.devicePixelRatio<2||!Xo),c=r==="bottom"?"top":"bottom",p=o==="right"?"left":"right",h=Tt("transform"),m=void 0,y=void 0;if(c==="bottom"?a.nodeName==="HTML"?y=-a.clientHeight+u.bottom:y=-l.height+u.bottom:y=u.top,p==="right"?a.nodeName==="HTML"?m=-a.clientWidth+u.right:m=-l.width+u.right:m=u.left,s&&h)f[h]="translate3d("+m+"px, "+y+"px, 0)",f[c]=0,f[p]=0,f.willChange="transform";else{var O=c==="bottom"?-1:1,v=p==="right"?-1:1;f[c]=y*O,f[p]=m*v,f.willChange=c+", "+p}var b={"x-placement":e.placement};return e.attributes=K({},b,e.attributes),e.styles=K({},f,e.styles),e.arrowStyles=K({},e.offsets.arrow,e.arrowStyles),e}function Vr(e,t,r){var o=$e(e,function(a){var l=a.name;return l===t}),n=!!o&&e.some(function(a){return a.name===r&&a.enabled&&a.order<o.order});if(!n){var i="`"+t+"`",s="`"+r+"`";console.warn(s+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return n}function Qo(e,t){var r;if(!Vr(e.instance.modifiers,"arrow","keepTogether"))return e;var o=t.element;if(typeof o=="string"){if(o=e.instance.popper.querySelector(o),!o)return e}else if(!e.instance.popper.contains(o))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var n=e.placement.split("-")[0],i=e.offsets,s=i.popper,a=i.reference,l=["left","right"].indexOf(n)!==-1,f=l?"height":"width",u=l?"Top":"Left",c=u.toLowerCase(),p=l?"left":"top",h=l?"bottom":"right",m=zr(o)[f];a[h]-m<s[c]&&(e.offsets.popper[c]-=s[c]-(a[h]-m)),a[c]+m>s[h]&&(e.offsets.popper[c]+=a[c]+m-s[h]),e.offsets.popper=fe(e.offsets.popper);var y=a[c]+a[f]/2-m/2,O=me(e.instance.popper),v=parseFloat(O["margin"+u]),b=parseFloat(O["border"+u+"Width"]),C=y-e.offsets.popper[c]-v-b;return C=Math.max(Math.min(s[f]-m,C),0),e.arrowElement=o,e.offsets.arrow=(r={},xe(r,c,Math.round(C)),xe(r,p,""),r),e}function ei(e){return e==="end"?"start":e==="start"?"end":e}var Yr=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],pt=Yr.slice(3);function nr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=pt.indexOf(e),o=pt.slice(r+1).concat(pt.slice(0,r));return t?o.reverse():o}var ht={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function ti(e,t){if(Hr(e.instance.modifiers,"inner")||e.flipped&&e.placement===e.originalPlacement)return e;var r=Et(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),o=e.placement.split("-")[0],n=rt(o),i=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case ht.FLIP:s=[o,n];break;case ht.CLOCKWISE:s=nr(o);break;case ht.COUNTERCLOCKWISE:s=nr(o,!0);break;default:s=t.behavior}return s.forEach(function(a,l){if(o!==a||s.length===l+1)return e;o=e.placement.split("-")[0],n=rt(o);var f=e.offsets.popper,u=e.offsets.reference,c=Math.floor,p=o==="left"&&c(f.right)>c(u.left)||o==="right"&&c(f.left)<c(u.right)||o==="top"&&c(f.bottom)>c(u.top)||o==="bottom"&&c(f.top)<c(u.bottom),h=c(f.left)<c(r.left),m=c(f.right)>c(r.right),y=c(f.top)<c(r.top),O=c(f.bottom)>c(r.bottom),v=o==="left"&&h||o==="right"&&m||o==="top"&&y||o==="bottom"&&O,b=["top","bottom"].indexOf(o)!==-1,C=!!t.flipVariations&&(b&&i==="start"&&h||b&&i==="end"&&m||!b&&i==="start"&&y||!b&&i==="end"&&O),B=!!t.flipVariationsByContent&&(b&&i==="start"&&m||b&&i==="end"&&h||!b&&i==="start"&&O||!b&&i==="end"&&y),I=C||B;(p||v||I)&&(e.flipped=!0,(p||v)&&(o=s[l+1]),I&&(i=ei(i)),e.placement=o+(i?"-"+i:""),e.offsets.popper=K({},e.offsets.popper,Wr(e.instance.popper,e.offsets.reference,e.placement)),e=Ur(e.instance.modifiers,e,"flip"))}),e}function ri(e){var t=e.offsets,r=t.popper,o=t.reference,n=e.placement.split("-")[0],i=Math.floor,s=["top","bottom"].indexOf(n)!==-1,a=s?"right":"bottom",l=s?"left":"top",f=s?"width":"height";return r[a]<i(o[l])&&(e.offsets.popper[l]=i(o[l])-r[f]),r[l]>i(o[a])&&(e.offsets.popper[l]=i(o[a])),e}function ni(e,t,r,o){var n=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+n[1],s=n[2];if(!i)return e;if(s.indexOf("%")===0){var a=void 0;switch(s){case"%p":a=r;break;case"%":case"%r":default:a=o}var l=fe(a);return l[t]/100*i}else if(s==="vh"||s==="vw"){var f=void 0;return s==="vh"?f=Math.max(document.documentElement.clientHeight,window.innerHeight||0):f=Math.max(document.documentElement.clientWidth,window.innerWidth||0),f/100*i}else return i}function oi(e,t,r,o){var n=[0,0],i=["right","left"].indexOf(o)!==-1,s=e.split(/(\+|\-)/).map(function(u){return u.trim()}),a=s.indexOf($e(s,function(u){return u.search(/,|\s/)!==-1}));s[a]&&s[a].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,f=a!==-1?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return f=f.map(function(u,c){var p=(c===1?!i:i)?"height":"width",h=!1;return u.reduce(function(m,y){return m[m.length-1]===""&&["+","-"].indexOf(y)!==-1?(m[m.length-1]=y,h=!0,m):h?(m[m.length-1]+=y,h=!1,m):m.concat(y)},[]).map(function(m){return ni(m,p,t,r)})}),f.forEach(function(u,c){u.forEach(function(p,h){jt(p)&&(n[c]+=p*(u[h-1]==="-"?-1:1))})}),n}function ii(e,t){var r=t.offset,o=e.placement,n=e.offsets,i=n.popper,s=n.reference,a=o.split("-")[0],l=void 0;return jt(+r)?l=[+r,0]:l=oi(r,i,s,a),a==="left"?(i.top+=l[0],i.left-=l[1]):a==="right"?(i.top+=l[0],i.left+=l[1]):a==="top"?(i.left+=l[0],i.top-=l[1]):a==="bottom"&&(i.left+=l[0],i.top+=l[1]),e.popper=i,e}function si(e,t){var r=t.boundariesElement||be(e.instance.popper);e.instance.reference===r&&(r=be(r));var o=Tt("transform"),n=e.instance.popper.style,i=n.top,s=n.left,a=n[o];n.top="",n.left="",n[o]="";var l=Et(e.instance.popper,e.instance.reference,t.padding,r,e.positionFixed);n.top=i,n.left=s,n[o]=a,t.boundaries=l;var f=t.priority,u=e.offsets.popper,c={primary:function(h){var m=u[h];return u[h]<l[h]&&!t.escapeWithReference&&(m=Math.max(u[h],l[h])),xe({},h,m)},secondary:function(h){var m=h==="right"?"left":"top",y=u[m];return u[h]>l[h]&&!t.escapeWithReference&&(y=Math.min(u[m],l[h]-(h==="right"?u.width:u.height))),xe({},m,y)}};return f.forEach(function(p){var h=["left","top"].indexOf(p)!==-1?"primary":"secondary";u=K({},u,c[h](p))}),e.offsets.popper=u,e}function ai(e){var t=e.placement,r=t.split("-")[0],o=t.split("-")[1];if(o){var n=e.offsets,i=n.reference,s=n.popper,a=["bottom","top"].indexOf(r)!==-1,l=a?"left":"top",f=a?"width":"height",u={start:xe({},l,i[l]),end:xe({},l,i[l]+i[f]-s[f])};e.offsets.popper=K({},s,u[o])}return e}function li(e){if(!Vr(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,r=$e(e.instance.modifiers,function(o){return o.name==="preventOverflow"}).boundaries;if(t.bottom<r.top||t.left>r.right||t.top>r.bottom||t.right<r.left){if(e.hide===!0)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(e.hide===!1)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function ci(e){var t=e.placement,r=t.split("-")[0],o=e.offsets,n=o.popper,i=o.reference,s=["left","right"].indexOf(r)!==-1,a=["top","left"].indexOf(r)===-1;return n[s?"left":"top"]=i[r]-(a?n[s?"width":"height"]:0),e.placement=rt(t),e.offsets.popper=fe(n),e}var ui={shift:{order:100,enabled:!0,fn:ai},offset:{order:200,enabled:!0,fn:ii,offset:0},preventOverflow:{order:300,enabled:!0,fn:si,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:ri},arrow:{order:500,enabled:!0,fn:Qo,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:ti,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:ci},hide:{order:800,enabled:!0,fn:li},computeStyle:{order:850,enabled:!0,fn:Zo,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:Yo,onLoad:Ko,gpuAcceleration:void 0}},fi={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:ui},Le=(function(){function e(t,r){var o=this,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Fo(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=Ao(this.update.bind(this)),this.options=K({},e.Defaults,n),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(K({},e.Defaults.modifiers,n.modifiers)).forEach(function(s){o.options.modifiers[s]=K({},e.Defaults.modifiers[s]||{},n.modifiers?n.modifiers[s]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(s){return K({name:s},o.options.modifiers[s])}).sort(function(s,a){return s.order-a.order}),this.modifiers.forEach(function(s){s.enabled&&Br(s.onLoad)&&s.onLoad(o.reference,o.popper,o.options,s,o.state)}),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return Mo(e,[{key:"update",value:function(){return zo.call(this)}},{key:"destroy",value:function(){return Wo.call(this)}},{key:"enableEventListeners",value:function(){return Ho.call(this)}},{key:"disableEventListeners",value:function(){return qo.call(this)}}]),e})();Le.Utils=(typeof window<"u"?window:global).PopperUtils;Le.placements=Yr;Le.Defaults=fi;var di=["innerHTML","ownerDocument","style","attributes","nodeValue"],pi=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],hi=["bigint","boolean","null","number","string","symbol","undefined"];function st(e){var t=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(t))return"HTMLElement";if(mi(t))return t}function Q(e){return function(t){return st(t)===e}}function mi(e){return pi.includes(e)}function Ce(e){return function(t){return typeof t===e}}function gi(e){return hi.includes(e)}function g(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(g.array(e))return"Array";if(g.plainFunction(e))return"Function";var t=st(e);return t||"Object"}g.array=Array.isArray;g.arrayOf=function(e,t){return!g.array(e)&&!g.function(t)?!1:e.every(function(r){return t(r)})};g.asyncGeneratorFunction=function(e){return st(e)==="AsyncGeneratorFunction"};g.asyncFunction=Q("AsyncFunction");g.bigint=Ce("bigint");g.boolean=function(e){return e===!0||e===!1};g.date=Q("Date");g.defined=function(e){return!g.undefined(e)};g.domElement=function(e){return g.object(e)&&!g.plainObject(e)&&e.nodeType===1&&g.string(e.nodeName)&&di.every(function(t){return t in e})};g.empty=function(e){return g.string(e)&&e.length===0||g.array(e)&&e.length===0||g.object(e)&&!g.map(e)&&!g.set(e)&&Object.keys(e).length===0||g.set(e)&&e.size===0||g.map(e)&&e.size===0};g.error=Q("Error");g.function=Ce("function");g.generator=function(e){return g.iterable(e)&&g.function(e.next)&&g.function(e.throw)};g.generatorFunction=Q("GeneratorFunction");g.instanceOf=function(e,t){return!e||!t?!1:Object.getPrototypeOf(e)===t.prototype};g.iterable=function(e){return!g.nullOrUndefined(e)&&g.function(e[Symbol.iterator])};g.map=Q("Map");g.nan=function(e){return Number.isNaN(e)};g.null=function(e){return e===null};g.nullOrUndefined=function(e){return g.null(e)||g.undefined(e)};g.number=function(e){return Ce("number")(e)&&!g.nan(e)};g.numericString=function(e){return g.string(e)&&e.length>0&&!Number.isNaN(Number(e))};g.object=function(e){return!g.nullOrUndefined(e)&&(g.function(e)||typeof e=="object")};g.oneOf=function(e,t){return g.array(e)?e.indexOf(t)>-1:!1};g.plainFunction=Q("Function");g.plainObject=function(e){if(st(e)!=="Object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};g.primitive=function(e){return g.null(e)||gi(typeof e)};g.promise=Q("Promise");g.propertyOf=function(e,t,r){if(!g.object(e)||!t)return!1;var o=e[t];return g.function(r)?r(o):g.defined(o)};g.regexp=Q("RegExp");g.set=Q("Set");g.string=Ce("string");g.symbol=Ce("symbol");g.undefined=Ce("undefined");g.weakMap=Q("WeakMap");g.weakSet=Q("WeakSet");function Kr(e){return function(t){return typeof t===e}}var yi=Kr("function"),bi=function(e){return e===null},or=function(e){return Object.prototype.toString.call(e).slice(8,-1)==="RegExp"},ir=function(e){return!vi(e)&&!bi(e)&&(yi(e)||typeof e=="object")},vi=Kr("undefined"),vt=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],o=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function xi(e,t){var r=e.length;if(r!==t.length)return!1;for(var o=r;o--!==0;)if(!Y(e[o],t[o]))return!1;return!0}function wi(e,t){if(e.byteLength!==t.byteLength)return!1;for(var r=new DataView(e.buffer),o=new DataView(t.buffer),n=e.byteLength;n--;)if(r.getUint8(n)!==o.getUint8(n))return!1;return!0}function Si(e,t){var r,o,n,i;if(e.size!==t.size)return!1;try{for(var s=vt(e.entries()),a=s.next();!a.done;a=s.next()){var l=a.value;if(!t.has(l[0]))return!1}}catch(c){r={error:c}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}try{for(var f=vt(e.entries()),u=f.next();!u.done;u=f.next()){var l=u.value;if(!Y(l[1],t.get(l[0])))return!1}}catch(c){n={error:c}}finally{try{u&&!u.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return!0}function Oi(e,t){var r,o;if(e.size!==t.size)return!1;try{for(var n=vt(e.entries()),i=n.next();!i.done;i=n.next()){var s=i.value;if(!t.has(s[0]))return!1}}catch(a){r={error:a}}finally{try{i&&!i.done&&(o=n.return)&&o.call(n)}finally{if(r)throw r.error}}return!0}function Y(e,t){if(e===t)return!0;if(e&&ir(e)&&t&&ir(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return xi(e,t);if(e instanceof Map&&t instanceof Map)return Si(e,t);if(e instanceof Set&&t instanceof Set)return Oi(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return wi(e,t);if(or(e)&&or(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var n=r.length;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,r[n]))return!1;for(var n=r.length;n--!==0;){var i=r[n];if(!(i==="_owner"&&e.$$typeof)&&!Y(e[i],t[i]))return!1}return!0}return Number.isNaN(e)&&Number.isNaN(t)?!0:e===t}function Ci(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(function(r){return g.string(r)||g.array(r)||g.plainObject(r)})}function Ei(e,t,r){return Jr(e,t)?[e,t].every(g.array)?!e.some(ur(r))&&t.some(ur(r)):[e,t].every(g.plainObject)?!Object.entries(e).some(cr(r))&&Object.entries(t).some(cr(r)):t===r:!1}function sr(e,t,r){var o=r.actual,n=r.key,i=r.previous,s=r.type,a=ne(e,n),l=ne(t,n),f=[a,l].every(g.number)&&(s==="increased"?a<l:a>l);return g.undefined(o)||(f=f&&l===o),g.undefined(i)||(f=f&&a===i),f}function ar(e,t,r){var o=r.key,n=r.type,i=r.value,s=ne(e,o),a=ne(t,o),l=n==="added"?s:a,f=n==="added"?a:s;if(!g.nullOrUndefined(i)){if(g.defined(l)){if(g.array(l)||g.plainObject(l))return Ei(l,f,i)}else return Y(f,i);return!1}return[s,a].every(g.array)?!f.every(Pt(l)):[s,a].every(g.plainObject)?Ti(Object.keys(l),Object.keys(f)):![s,a].every(function(u){return g.primitive(u)&&g.defined(u)})&&(n==="added"?!g.defined(s)&&g.defined(a):g.defined(s)&&!g.defined(a))}function lr(e,t,r){var o=r===void 0?{}:r,n=o.key,i=ne(e,n),s=ne(t,n);if(!Jr(i,s))throw new TypeError("Inputs have different types");if(!Ci(i,s))throw new TypeError("Inputs don't have length");return[i,s].every(g.plainObject)&&(i=Object.keys(i),s=Object.keys(s)),[i,s]}function cr(e){return function(t){var r=t[0],o=t[1];return g.array(e)?Y(e,o)||e.some(function(n){return Y(n,o)||g.array(o)&&Pt(o)(n)}):g.plainObject(e)&&e[r]?!!e[r]&&Y(e[r],o):Y(e,o)}}function Ti(e,t){return t.some(function(r){return!e.includes(r)})}function ur(e){return function(t){return g.array(e)?e.some(function(r){return Y(r,t)||g.array(t)&&Pt(t)(r)}):Y(e,t)}}function ke(e,t){return g.array(e)?e.some(function(r){return Y(r,t)}):Y(e,t)}function Pt(e){return function(t){return e.some(function(r){return Y(r,t)})}}function Jr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(g.array)||e.every(g.number)||e.every(g.plainObject)||e.every(g.string)}function ne(e,t){if(g.plainObject(e)||g.array(e)){if(g.string(t)){var r=t.split(".");return r.reduce(function(o,n){return o&&o[n]},e)}return g.number(t)?e[t]:e}return e}function ji(e,t){if([e,t].some(g.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every(function(c){return g.plainObject(c)||g.array(c)}))throw new Error("Expected plain objects or array");var r=function(c,p){try{return ar(e,t,{key:c,type:"added",value:p})}catch{return!1}},o=function(c,p,h){try{var m=ne(e,c),y=ne(t,c),O=g.defined(p),v=g.defined(h);if(O||v){var b=v?ke(h,m):!ke(p,m),C=ke(p,y);return b&&C}return[m,y].every(g.array)||[m,y].every(g.plainObject)?!Y(m,y):m!==y}catch{return!1}},n=function(c,p,h){if(!g.defined(c))return!1;try{var m=ne(e,c),y=ne(t,c),O=g.defined(h);return ke(p,m)&&(O?ke(h,y):!O)}catch{return!1}},i=function(c,p){return g.defined(c)?o(c,p):!1},s=function(c,p,h){if(!g.defined(c))return!1;try{return sr(e,t,{key:c,actual:p,previous:h,type:"decreased"})}catch{return!1}},a=function(c){try{var p=lr(e,t,{key:c}),h=p[0],m=p[1];return!!h.length&&!m.length}catch{return!1}},l=function(c){try{var p=lr(e,t,{key:c}),h=p[0],m=p[1];return!h.length&&!!m.length}catch{return!1}},f=function(c,p,h){if(!g.defined(c))return!1;try{return sr(e,t,{key:c,actual:p,previous:h,type:"increased"})}catch{return!1}},u=function(c,p){try{return ar(e,t,{key:c,type:"removed",value:p})}catch{return!1}};return{added:r,changed:o,changedFrom:n,changedTo:i,decreased:s,emptied:a,filled:l,increased:f,removed:u}}function fr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,o)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fr(Object(r),!0).forEach(function(o){q(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fr(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pi(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,Zr(o.key),o)}}function We(e,t,r){return t&&Pi(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function q(e,t,r){return t=Zr(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xt(e,t)}function nt(e){return nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nt(e)}function xt(e,t){return xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,n){return o.__proto__=n,o},xt(e,t)}function Ri(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ki(e,t){if(e==null)return{};var r={},o=Object.keys(e),n,i;for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function Xr(e,t){if(e==null)return{};var r=ki(e,t),o,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function se(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ii(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return se(e)}function He(e){var t=Ri();return function(){var o=nt(e),n;if(t){var i=nt(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Ii(this,n)}}function Ni(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zr(e){var t=Ni(e,"string");return typeof t=="symbol"?t:String(t)}var Ai={flip:{padding:20},preventOverflow:{padding:10}},Bi="The typeValidator argument must be a function with the signature function(props, propName, componentName).",Li="The error message is optional, but must be a string if provided.";function Fi(e,t,r,o){return typeof e=="boolean"?e:typeof e=="function"?e(t,r,o):e?!!e:!1}function Mi(e,t){return Object.hasOwnProperty.call(e,t)}function _i(e,t,r,o){return new Error("Required ".concat(e[t]," `").concat(t,"` was not specified in `").concat(r,"`."))}function Di(e,t){if(typeof e!="function")throw new TypeError(Bi);if(t&&typeof t!="string")throw new TypeError(Li)}function dr(e,t,r){return Di(e,r),function(o,n,i){for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return Fi(t,o,n,i)?Mi(o,n)?e.apply(void 0,[o,n,i].concat(a)):_i(o,n,i):e.apply(void 0,[o,n,i].concat(a))}}var M={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing"},Ie=Ke.createPortal!==void 0;function ee(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function mt(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function Ye(e){var t=e.title,r=e.data,o=e.warn,n=o===void 0?!1:o,i=e.debug,s=i===void 0?!1:i,a=n?console.warn||console.error:console.log;s&&t&&r&&(console.groupCollapsed("%creact-floater: ".concat(t),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(r)?r.forEach(function(l){g.plainObject(l)&&l.key?a.apply(console,[l.key,l.value]):a.apply(console,[l])}):a.apply(console,[r]),console.groupEnd())}function $i(e,t,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e.addEventListener(t,r,o)}function zi(e,t,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e.removeEventListener(t,r,o)}function Wi(e,t,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,n;n=function(s){r(s),zi(e,t,n)},$i(e,t,n,o)}function pr(){}var Qr=(function(e){Ue(r,e);var t=He(r);function r(){return ze(this,r),t.apply(this,arguments)}return We(r,[{key:"componentDidMount",value:function(){ee()&&(this.node||this.appendNode(),Ie||this.renderPortal())}},{key:"componentDidUpdate",value:function(){ee()&&(Ie||this.renderPortal())}},{key:"componentWillUnmount",value:function(){!ee()||!this.node||(Ie||Ke.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var n=this.props,i=n.id,s=n.zIndex;this.node||(this.node=document.createElement("div"),i&&(this.node.id=i),s&&(this.node.style.zIndex=s),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!ee())return null;var n=this.props,i=n.children,s=n.setRef;if(this.node||this.appendNode(),Ie)return Ke.createPortal(i,this.node);var a=Ke.unstable_renderSubtreeIntoContainer(this,i.length>1?A.createElement("div",null,i):i[0],this.node);return s(a),null}},{key:"renderReact16",value:function(){var n=this.props,i=n.hasChildren,s=n.placement,a=n.target;return i?this.renderPortal():a||s==="center"?this.renderPortal():null}},{key:"render",value:function(){return Ie?this.renderReact16():null}}]),r})(A.Component);q(Qr,"propTypes",{children:x.oneOfType([x.element,x.array]),hasChildren:x.bool,id:x.oneOfType([x.string,x.number]),placement:x.string,setRef:x.func.isRequired,target:x.oneOfType([x.object,x.string]),zIndex:x.number});var en=(function(e){Ue(r,e);var t=He(r);function r(){return ze(this,r),t.apply(this,arguments)}return We(r,[{key:"parentStyle",get:function(){var n=this.props,i=n.placement,s=n.styles,a=s.arrow.length,l={pointerEvents:"none",position:"absolute",width:"100%"};return i.startsWith("top")?(l.bottom=0,l.left=0,l.right=0,l.height=a):i.startsWith("bottom")?(l.left=0,l.right=0,l.top=0,l.height=a):i.startsWith("left")?(l.right=0,l.top=0,l.bottom=0):i.startsWith("right")&&(l.left=0,l.top=0),l}},{key:"render",value:function(){var n=this.props,i=n.placement,s=n.setArrowRef,a=n.styles,l=a.arrow,f=l.color,u=l.display,c=l.length,p=l.margin,h=l.position,m=l.spread,y={display:u,position:h},O,v=m,b=c;return i.startsWith("top")?(O="0,0 ".concat(v/2,",").concat(b," ").concat(v,",0"),y.bottom=0,y.marginLeft=p,y.marginRight=p):i.startsWith("bottom")?(O="".concat(v,",").concat(b," ").concat(v/2,",0 0,").concat(b),y.top=0,y.marginLeft=p,y.marginRight=p):i.startsWith("left")?(b=m,v=c,O="0,0 ".concat(v,",").concat(b/2," 0,").concat(b),y.right=0,y.marginTop=p,y.marginBottom=p):i.startsWith("right")&&(b=m,v=c,O="".concat(v,",").concat(b," ").concat(v,",0 0,").concat(b/2),y.left=0,y.marginTop=p,y.marginBottom=p),A.createElement("div",{className:"__floater__arrow",style:this.parentStyle},A.createElement("span",{ref:s,style:y},A.createElement("svg",{width:v,height:b,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},A.createElement("polygon",{points:O,fill:f}))))}}]),r})(A.Component);q(en,"propTypes",{placement:x.string.isRequired,setArrowRef:x.func.isRequired,styles:x.object.isRequired});var Ui=["color","height","width"];function tn(e){var t=e.handleClick,r=e.styles,o=r.color,n=r.height,i=r.width,s=Xr(r,Ui);return A.createElement("button",{"aria-label":"close",onClick:t,style:s,type:"button"},A.createElement("svg",{width:"".concat(i,"px"),height:"".concat(n,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},A.createElement("g",null,A.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:o}))))}tn.propTypes={handleClick:x.func.isRequired,styles:x.object.isRequired};function rn(e){var t=e.content,r=e.footer,o=e.handleClick,n=e.open,i=e.positionWrapper,s=e.showCloseButton,a=e.title,l=e.styles,f={content:A.isValidElement(t)?t:A.createElement("div",{className:"__floater__content",style:l.content},t)};return a&&(f.title=A.isValidElement(a)?a:A.createElement("div",{className:"__floater__title",style:l.title},a)),r&&(f.footer=A.isValidElement(r)?r:A.createElement("div",{className:"__floater__footer",style:l.footer},r)),(s||i)&&!g.boolean(n)&&(f.close=A.createElement(tn,{styles:l.close,handleClick:o})),A.createElement("div",{className:"__floater__container",style:l.container},f.close,f.title,f.content,f.footer)}rn.propTypes={content:x.node.isRequired,footer:x.node,handleClick:x.func.isRequired,open:x.bool,positionWrapper:x.bool.isRequired,showCloseButton:x.bool.isRequired,styles:x.object.isRequired,title:x.node};var nn=(function(e){Ue(r,e);var t=He(r);function r(){return ze(this,r),t.apply(this,arguments)}return We(r,[{key:"style",get:function(){var n=this.props,i=n.disableAnimation,s=n.component,a=n.placement,l=n.hideArrow,f=n.status,u=n.styles,c=u.arrow.length,p=u.floater,h=u.floaterCentered,m=u.floaterClosing,y=u.floaterOpening,O=u.floaterWithAnimation,v=u.floaterWithComponent,b={};return l||(a.startsWith("top")?b.padding="0 0 ".concat(c,"px"):a.startsWith("bottom")?b.padding="".concat(c,"px 0 0"):a.startsWith("left")?b.padding="0 ".concat(c,"px 0 0"):a.startsWith("right")&&(b.padding="0 0 0 ".concat(c,"px"))),[M.OPENING,M.OPEN].indexOf(f)!==-1&&(b=W(W({},b),y)),f===M.CLOSING&&(b=W(W({},b),m)),f===M.OPEN&&!i&&(b=W(W({},b),O)),a==="center"&&(b=W(W({},b),h)),s&&(b=W(W({},b),v)),W(W({},p),b)}},{key:"render",value:function(){var n=this.props,i=n.component,s=n.handleClick,a=n.hideArrow,l=n.setFloaterRef,f=n.status,u={},c=["__floater"];return i?A.isValidElement(i)?u.content=A.cloneElement(i,{closeFn:s}):u.content=i({closeFn:s}):u.content=A.createElement(rn,this.props),f===M.OPEN&&c.push("__floater__open"),a||(u.arrow=A.createElement(en,this.props)),A.createElement("div",{ref:l,className:c.join(" "),style:this.style},A.createElement("div",{className:"__floater__body"},u.content,u.arrow))}}]),r})(A.Component);q(nn,"propTypes",{component:x.oneOfType([x.func,x.element]),content:x.node,disableAnimation:x.bool.isRequired,footer:x.node,handleClick:x.func.isRequired,hideArrow:x.bool.isRequired,open:x.bool,placement:x.string.isRequired,positionWrapper:x.bool.isRequired,setArrowRef:x.func.isRequired,setFloaterRef:x.func.isRequired,showCloseButton:x.bool,status:x.string.isRequired,styles:x.object.isRequired,title:x.node});var on=(function(e){Ue(r,e);var t=He(r);function r(){return ze(this,r),t.apply(this,arguments)}return We(r,[{key:"render",value:function(){var n=this.props,i=n.children,s=n.handleClick,a=n.handleMouseEnter,l=n.handleMouseLeave,f=n.setChildRef,u=n.setWrapperRef,c=n.style,p=n.styles,h;if(i)if(A.Children.count(i)===1)if(!A.isValidElement(i))h=A.createElement("span",null,i);else{var m=g.function(i.type)?"innerRef":"ref";h=A.cloneElement(A.Children.only(i),q({},m,f))}else h=i;return h?A.createElement("span",{ref:u,style:W(W({},p),c),onClick:s,onMouseEnter:a,onMouseLeave:l},h):null}}]),r})(A.Component);q(on,"propTypes",{children:x.node,handleClick:x.func.isRequired,handleMouseEnter:x.func.isRequired,handleMouseLeave:x.func.isRequired,setChildRef:x.func.isRequired,setWrapperRef:x.func.isRequired,style:x.object,styles:x.object.isRequired});var Hi={zIndex:100};function Gi(e){var t=X(Hi,e.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:t.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:t.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:t}}var qi=["arrow","flip","offset"],Vi=["position","top","right","bottom","left"],Rt=(function(e){Ue(r,e);var t=He(r);function r(o){var n;return ze(this,r),n=t.call(this,o),q(se(n),"setArrowRef",function(i){n.arrowRef=i}),q(se(n),"setChildRef",function(i){n.childRef=i}),q(se(n),"setFloaterRef",function(i){n.floaterRef=i}),q(se(n),"setWrapperRef",function(i){n.wrapperRef=i}),q(se(n),"handleTransitionEnd",function(){var i=n.state.status,s=n.props.callback;n.wrapperPopper&&n.wrapperPopper.instance.update(),n.setState({status:i===M.OPENING?M.OPEN:M.IDLE},function(){var a=n.state.status;s(a===M.OPEN?"open":"close",n.props)})}),q(se(n),"handleClick",function(){var i=n.props,s=i.event,a=i.open;if(!g.boolean(a)){var l=n.state,f=l.positionWrapper,u=l.status;(n.event==="click"||n.event==="hover"&&f)&&(Ye({title:"click",data:[{event:s,status:u===M.OPEN?"closing":"opening"}],debug:n.debug}),n.toggle())}}),q(se(n),"handleMouseEnter",function(){var i=n.props,s=i.event,a=i.open;if(!(g.boolean(a)||mt())){var l=n.state.status;n.event==="hover"&&l===M.IDLE&&(Ye({title:"mouseEnter",data:[{key:"originalEvent",value:s}],debug:n.debug}),clearTimeout(n.eventDelayTimeout),n.toggle())}}),q(se(n),"handleMouseLeave",function(){var i=n.props,s=i.event,a=i.eventDelay,l=i.open;if(!(g.boolean(l)||mt())){var f=n.state,u=f.status,c=f.positionWrapper;n.event==="hover"&&(Ye({title:"mouseLeave",data:[{key:"originalEvent",value:s}],debug:n.debug}),a?[M.OPENING,M.OPEN].indexOf(u)!==-1&&!c&&!n.eventDelayTimeout&&(n.eventDelayTimeout=setTimeout(function(){delete n.eventDelayTimeout,n.toggle()},a*1e3)):n.toggle(M.IDLE))}}),n.state={currentPlacement:o.placement,needsUpdate:!1,positionWrapper:o.wrapperOptions.position&&!!o.target,status:M.INIT,statusWrapper:M.INIT},n._isMounted=!1,n.hasMounted=!1,ee()&&window.addEventListener("load",function(){n.popper&&n.popper.instance.update(),n.wrapperPopper&&n.wrapperPopper.instance.update()}),n}return We(r,[{key:"componentDidMount",value:function(){if(ee()){var n=this.state.positionWrapper,i=this.props,s=i.children,a=i.open,l=i.target;this._isMounted=!0,Ye({title:"init",data:{hasChildren:!!s,hasTarget:!!l,isControlled:g.boolean(a),positionWrapper:n,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!s&&l&&g.boolean(a)}}},{key:"componentDidUpdate",value:function(n,i){if(ee()){var s=this.props,a=s.autoOpen,l=s.open,f=s.target,u=s.wrapperOptions,c=ji(i,this.state),p=c.changedFrom,h=c.changed;if(n.open!==l){var m;g.boolean(l)&&(m=l?M.OPENING:M.CLOSING),this.toggle(m)}(n.wrapperOptions.position!==u.position||n.target!==f)&&this.changeWrapperPosition(this.props),h("status",M.IDLE)&&l?this.toggle(M.OPEN):p("status",M.INIT,M.IDLE)&&a&&this.toggle(M.OPEN),this.popper&&h("status",M.OPENING)&&this.popper.instance.update(),this.floaterRef&&(h("status",M.OPENING)||h("status",M.CLOSING))&&Wi(this.floaterRef,"transitionend",this.handleTransitionEnd),h("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){ee()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var n=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.target,s=this.state.positionWrapper,a=this.props,l=a.disableFlip,f=a.getPopper,u=a.hideArrow,c=a.offset,p=a.placement,h=a.wrapperOptions,m=p==="top"||p==="bottom"?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if(p==="center")this.setState({status:M.IDLE});else if(i&&this.floaterRef){var y=this.options,O=y.arrow,v=y.flip,b=y.offset,C=Xr(y,qi);new Le(i,this.floaterRef,{placement:p,modifiers:W({arrow:W({enabled:!u,element:this.arrowRef},O),flip:W({enabled:!l,behavior:m},v),offset:W({offset:"0, ".concat(c,"px")},b)},C),onCreate:function(w){var N;if(n.popper=w,!((N=n.floaterRef)!==null&&N!==void 0&&N.isConnected)){n.setState({needsUpdate:!0});return}f(w,"floater"),n._isMounted&&n.setState({currentPlacement:w.placement,status:M.IDLE}),p!==w.placement&&setTimeout(function(){w.instance.update()},1)},onUpdate:function(w){n.popper=w;var N=n.state.currentPlacement;n._isMounted&&w.placement!==N&&n.setState({currentPlacement:w.placement})}})}if(s){var B=g.undefined(h.offset)?0:h.offset;new Le(this.target,this.wrapperRef,{placement:h.placement||p,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(B,"px")},flip:{enabled:!1}},onCreate:function(w){n.wrapperPopper=w,n._isMounted&&n.setState({statusWrapper:M.IDLE}),f(w,"wrapper"),p!==w.placement&&setTimeout(function(){w.instance.update()},1)}})}}},{key:"rebuildPopper",value:function(){var n=this;this.floaterRefInterval=setInterval(function(){var i;(i=n.floaterRef)!==null&&i!==void 0&&i.isConnected&&(clearInterval(n.floaterRefInterval),n.setState({needsUpdate:!1}),n.initPopper())},50)}},{key:"changeWrapperPosition",value:function(n){var i=n.target,s=n.wrapperOptions;this.setState({positionWrapper:s.position&&!!i})}},{key:"toggle",value:function(n){var i=this.state.status,s=i===M.OPEN?M.CLOSING:M.OPENING;g.undefined(n)||(s=n),this.setState({status:s})}},{key:"debug",get:function(){var n=this.props.debug;return n||ee()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var n=this.props,i=n.disableHoverToClick,s=n.event;return s==="hover"&&mt()&&!i?"click":s}},{key:"options",get:function(){var n=this.props.options;return X(Ai,n||{})}},{key:"styles",get:function(){var n=this,i=this.state,s=i.status,a=i.positionWrapper,l=i.statusWrapper,f=this.props.styles,u=X(Gi(f),f);if(a){var c;[M.IDLE].indexOf(s)===-1||[M.IDLE].indexOf(l)===-1?c=u.wrapperPosition:c=this.wrapperPopper.styles,u.wrapper=W(W({},u.wrapper),c)}if(this.target){var p=window.getComputedStyle(this.target);this.wrapperStyles?u.wrapper=W(W({},u.wrapper),this.wrapperStyles):["relative","static"].indexOf(p.position)===-1&&(this.wrapperStyles={},a||(Vi.forEach(function(h){n.wrapperStyles[h]=p[h]}),u.wrapper=W(W({},u.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return u}},{key:"target",get:function(){if(!ee())return null;var n=this.props.target;return n?g.domElement(n)?n:document.querySelector(n):this.childRef||this.wrapperRef}},{key:"render",value:function(){var n=this.state,i=n.currentPlacement,s=n.positionWrapper,a=n.status,l=this.props,f=l.children,u=l.component,c=l.content,p=l.disableAnimation,h=l.footer,m=l.hideArrow,y=l.id,O=l.open,v=l.showCloseButton,b=l.style,C=l.target,B=l.title,I=A.createElement(on,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:b,styles:this.styles.wrapper},f),w={};return s?w.wrapperInPortal=I:w.wrapperAsChildren=I,A.createElement("span",null,A.createElement(Qr,{hasChildren:!!f,id:y,placement:i,setRef:this.setFloaterRef,target:C,zIndex:this.styles.options.zIndex},A.createElement(nn,{component:u,content:c,disableAnimation:p,footer:h,handleClick:this.handleClick,hideArrow:m||i==="center",open:O,placement:i,positionWrapper:s,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:v,status:a,styles:this.styles,title:B}),w.wrapperInPortal),w.wrapperAsChildren)}}]),r})(A.Component);q(Rt,"propTypes",{autoOpen:x.bool,callback:x.func,children:x.node,component:dr(x.oneOfType([x.func,x.element]),function(e){return!e.content}),content:dr(x.node,function(e){return!e.component}),debug:x.bool,disableAnimation:x.bool,disableFlip:x.bool,disableHoverToClick:x.bool,event:x.oneOf(["hover","click"]),eventDelay:x.number,footer:x.node,getPopper:x.func,hideArrow:x.bool,id:x.oneOfType([x.string,x.number]),offset:x.number,open:x.bool,options:x.object,placement:x.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:x.bool,style:x.object,styles:x.object,target:x.oneOfType([x.object,x.string]),title:x.node,wrapperOptions:x.shape({offset:x.number,placement:x.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:x.bool})});q(Rt,"defaultProps",{autoOpen:!1,callback:pr,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:pr,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var Yi=Object.defineProperty,Ki=(e,t,r)=>t in e?Yi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,j=(e,t,r)=>Ki(e,typeof t!="symbol"?t+"":t,r),_={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},J={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found"},k={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},F={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished"};function ue(){var e;return!!(typeof window<"u"&&((e=window.document)!=null&&e.createElement))}function sn(e){return e?e.getBoundingClientRect():null}function Ji(e=!1){const{body:t,documentElement:r}=document;if(!t||!r)return 0;if(e){const o=[t.scrollHeight,t.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight].sort((i,s)=>i-s),n=Math.floor(o.length/2);return o.length%2===0?(o[n-1]+o[n])/2:o[n]}return Math.max(t.scrollHeight,t.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight)}function ae(e){if(typeof e=="string")try{return document.querySelector(e)}catch{return null}return e}function Xi(e){return!e||e.nodeType!==1?null:getComputedStyle(e)}function Fe(e,t,r){if(!e)return pe();const o=Ar(e);if(o){if(o.isSameNode(pe()))return r?document:pe();if(!(o.scrollHeight>o.offsetHeight)&&!t)return o.style.overflow="initial",pe()}return o}function at(e,t){if(!e)return!1;const r=Fe(e,t);return r?!r.isSameNode(pe()):!1}function Zi(e){return e.offsetParent!==document.body}function we(e,t="fixed"){if(!e||!(e instanceof HTMLElement))return!1;const{nodeName:r}=e,o=Xi(e);return r==="BODY"||r==="HTML"?!1:o&&o.position===t?!0:e.parentNode?we(e.parentNode,t):!1}function Qi(e){var t;if(!e)return!1;let r=e;for(;r&&r!==document.body;){if(r instanceof HTMLElement){const{display:o,visibility:n}=getComputedStyle(r);if(o==="none"||n==="hidden")return!1}r=(t=r.parentElement)!=null?t:null}return!0}function es(e,t,r){var o,n,i;const s=sn(e),a=Fe(e,r),l=at(e,r),f=we(e);let u=0,c=(o=s==null?void 0:s.top)!=null?o:0;if(l&&f){const p=(n=e==null?void 0:e.offsetTop)!=null?n:0,h=(i=a==null?void 0:a.scrollTop)!=null?i:0;c=p-h}else a instanceof HTMLElement&&(u=a.scrollTop,!l&&!we(e)&&(c+=u),a.isSameNode(pe())||(c+=pe().scrollTop));return Math.floor(c-t)}function ts(e,t,r){var o;if(!e)return 0;const{offsetTop:n=0,scrollTop:i=0}=(o=Ar(e))!=null?o:{};let s=e.getBoundingClientRect().top+i;n&&(at(e,r)||Zi(e))&&(s-=n);const a=Math.floor(s-t);return a<0?0:a}function pe(){var e;return(e=document.scrollingElement)!=null?e:document.documentElement}function rs(e,t){const{duration:r,element:o}=t;return new Promise((n,i)=>{const{scrollTop:s}=o,a=e>s?e-s:s-e;wo.top(o,e,{duration:a<100?50:r},l=>l&&l.message!=="Element already at target scroll position"?i(l):n())})}var Ne=Je.createPortal!==void 0;function an(e=navigator.userAgent){let t=e;return typeof window>"u"?t="node":document.documentMode?t="ie":/Edge/.test(e)?t="edge":window.opera||e.includes(" OPR/")?t="opera":typeof window.InstallTrigger<"u"?t="firefox":window.chrome?t="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(e)&&(t="safari"),t}function Qe(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function te(e,t={}){const{defaultValue:r,step:o,steps:n}=t;let i=Xt(e);if(i)(i.includes("{step}")||i.includes("{steps}"))&&o&&n&&(i=i.replace("{step}",o.toString()).replace("{steps}",n.toString()));else if(S.isValidElement(e)&&!Object.values(e.props).length&&Qe(e.type)==="function"){const s=e.type({});i=te(s,t)}else i=Xt(r);return i}function ns(e,t){return!T.plainObject(e)||!T.array(t)?!1:Object.keys(e).every(r=>t.includes(r))}function os(e){const t=/^#?([\da-f])([\da-f])([\da-f])$/i,r=e.replace(t,(n,i,s,a)=>i+i+s+s+a+a),o=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(r);return o?[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]:[]}function hr(e){return e.disableBeacon||e.placement==="center"}function mr(){return!["chrome","safari","firefox","opera"].includes(an())}function he({data:e,debug:t=!1,title:r,warn:o=!1}){const n=o?console.warn||console.error:console.log;t&&(r&&e?(console.groupCollapsed(`%creact-joyride: ${r}`,"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(e)?e.forEach(i=>{T.plainObject(i)&&i.key?n.apply(console,[i.key,i.value]):n.apply(console,[i])}):n.apply(console,[e]),console.groupEnd()):console.error("Missing title or data props"))}function is(e){return Object.keys(e)}function ln(e,...t){if(!T.plainObject(e))throw new TypeError("Expected an object");const r={};for(const o in e)({}).hasOwnProperty.call(e,o)&&(t.includes(o)||(r[o]=e[o]));return r}function ss(e,...t){if(!T.plainObject(e))throw new TypeError("Expected an object");if(!t.length)return e;const r={};for(const o in e)({}).hasOwnProperty.call(e,o)&&t.includes(o)&&(r[o]=e[o]);return r}function wt(e,t,r){const o=i=>i.replace("{step}",String(t)).replace("{steps}",String(r));if(Qe(e)==="string")return o(e);if(!S.isValidElement(e))return e;const{children:n}=e.props;if(Qe(n)==="string"&&n.includes("{step}"))return S.cloneElement(e,{children:o(n)});if(Array.isArray(n))return S.cloneElement(e,{children:n.map(i=>typeof i=="string"?o(i):wt(i,t,r))});if(Qe(e.type)==="function"&&!Object.values(e.props).length){const i=e.type({});return wt(i,t,r)}return e}function as(e){const{isFirstStep:t,lifecycle:r,previousLifecycle:o,scrollToFirstStep:n,step:i,target:s}=e;return!i.disableScrolling&&(!t||n||r===k.TOOLTIP)&&i.placement!=="center"&&(!i.isFixed||!we(s))&&o!==r&&[k.BEACON,k.TOOLTIP].includes(r)}var ls={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},cn={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},cs={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:cn,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},us={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},fs={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},Ae={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},gr={borderRadius:4,position:"absolute"};function ds(e,t){var r,o,n,i,s;const{floaterProps:a,styles:l}=e,f=X((r=t.floaterProps)!=null?r:{},a??{}),u=X(l??{},(o=t.styles)!=null?o:{}),c=X(fs,u.options||{}),p=t.placement==="center"||t.disableBeacon;let{width:h}=c;window.innerWidth>480&&(h=380),"width"in c&&(h=typeof c.width=="number"&&window.innerWidth<c.width?window.innerWidth-30:c.width);const m={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:c.zIndex},y={beacon:{...Ae,display:p?"none":"inline-block",height:c.beaconSize,position:"relative",width:c.beaconSize,zIndex:c.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:c.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:`rgba(${os(c.primaryColor).join(",")}, 0.2)`,border:`2px solid ${c.primaryColor}`,borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:c.backgroundColor,borderRadius:5,boxSizing:"border-box",color:c.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:h},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...Ae,backgroundColor:c.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...Ae,color:c.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...Ae,color:c.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...Ae,color:c.textColor,fontSize:14},overlay:{...m,backgroundColor:c.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...m},overlayLegacyCenter:{...m,backgroundColor:c.overlayColor},spotlight:{...gr,backgroundColor:"gray"},spotlightLegacy:{...gr,boxShadow:`0 0 0 9999px ${c.overlayColor}, ${c.spotlightShadow}`},floaterStyles:{arrow:{color:(s=(i=(n=f==null?void 0:f.styles)==null?void 0:n.arrow)==null?void 0:i.color)!=null?s:c.arrowColor},options:{zIndex:c.zIndex+100}},options:c};return X(y,u)}function ps(e){return ss(e,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function ye(e,t){var r,o,n,i,s,a;const l=t??{},f=X.all([cs,ps(e),l],{isMergeableObject:T.plainObject}),u=ds(e,f),c=at(ae(f.target),f.disableScrollParentFix),p=X.all([ls,(r=e.floaterProps)!=null?r:{},(o=f.floaterProps)!=null?o:{}]);return p.offset=f.offset,p.styles=X((n=p.styles)!=null?n:{},u.floaterStyles),p.offset+=(s=(i=e.spotlightPadding)!=null?i:f.spotlightPadding)!=null?s:0,f.placementBeacon&&p.wrapperOptions&&(p.wrapperOptions.placement=f.placementBeacon),c&&p.options.preventOverflow&&(p.options.preventOverflow.boundariesElement="window"),{...f,locale:X.all([cn,(a=e.locale)!=null?a:{},f.locale||{}]),floaterProps:p,styles:ln(u,"floaterStyles")}}function un(e,t=!1){return T.plainObject(e)?e.target?!0:(he({title:"validateStep",data:"target is missing from the step",warn:!0,debug:t}),!1):(he({title:"validateStep",data:"step must be an object",warn:!0,debug:t}),!1)}function yr(e,t=!1){return T.array(e)?e.every(r=>un(r,t)):(he({title:"validateSteps",data:"steps must be an array",warn:!0,debug:t}),!1)}var fn={action:"init",controlled:!1,index:0,lifecycle:k.INIT,origin:null,size:0,status:F.IDLE},br=is(ln(fn,"controlled","size")),hs=class{constructor(e){j(this,"beaconPopper"),j(this,"tooltipPopper"),j(this,"data",new Map),j(this,"listener"),j(this,"store",new Map),j(this,"addListener",n=>{this.listener=n}),j(this,"setSteps",n=>{const{size:i,status:s}=this.getState(),a={size:n.length,status:s};this.data.set("steps",n),s===F.WAITING&&!i&&n.length&&(a.status=F.RUNNING),this.setState(a)}),j(this,"getPopper",n=>n==="beacon"?this.beaconPopper:this.tooltipPopper),j(this,"setPopper",(n,i)=>{n==="beacon"?this.beaconPopper=i:this.tooltipPopper=i}),j(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),j(this,"close",(n=null)=>{const{index:i,status:s}=this.getState();s===F.RUNNING&&this.setState({...this.getNextState({action:_.CLOSE,index:i+1,origin:n})})}),j(this,"go",n=>{const{controlled:i,status:s}=this.getState();if(i||s!==F.RUNNING)return;const a=this.getSteps()[n];this.setState({...this.getNextState({action:_.GO,index:n}),status:a?s:F.FINISHED})}),j(this,"info",()=>this.getState()),j(this,"next",()=>{const{index:n,status:i}=this.getState();i===F.RUNNING&&this.setState(this.getNextState({action:_.NEXT,index:n+1}))}),j(this,"open",()=>{const{status:n}=this.getState();n===F.RUNNING&&this.setState({...this.getNextState({action:_.UPDATE,lifecycle:k.TOOLTIP})})}),j(this,"prev",()=>{const{index:n,status:i}=this.getState();i===F.RUNNING&&this.setState({...this.getNextState({action:_.PREV,index:n-1})})}),j(this,"reset",(n=!1)=>{const{controlled:i}=this.getState();i||this.setState({...this.getNextState({action:_.RESET,index:0}),status:n?F.RUNNING:F.READY})}),j(this,"skip",()=>{const{status:n}=this.getState();n===F.RUNNING&&this.setState({action:_.SKIP,lifecycle:k.INIT,status:F.SKIPPED})}),j(this,"start",n=>{const{index:i,size:s}=this.getState();this.setState({...this.getNextState({action:_.START,index:T.number(n)?n:i},!0),status:s?F.RUNNING:F.WAITING})}),j(this,"stop",(n=!1)=>{const{index:i,status:s}=this.getState();[F.FINISHED,F.SKIPPED].includes(s)||this.setState({...this.getNextState({action:_.STOP,index:i+(n?1:0)}),status:F.PAUSED})}),j(this,"update",n=>{var i,s;if(!ns(n,br))throw new Error(`State is not valid. Valid keys: ${br.join(", ")}`);this.setState({...this.getNextState({...this.getState(),...n,action:(i=n.action)!=null?i:_.UPDATE,origin:(s=n.origin)!=null?s:null},!0)})});const{continuous:t=!1,stepIndex:r,steps:o=[]}=e??{};this.setState({action:_.INIT,controlled:T.number(r),continuous:t,index:T.number(r)?r:0,lifecycle:k.INIT,origin:null,status:o.length?F.READY:F.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(o)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...fn}}getNextState(e,t=!1){var r,o,n,i,s;const{action:a,controlled:l,index:f,size:u,status:c}=this.getState(),p=T.number(e.index)?e.index:f,h=l&&!t?f:Math.min(Math.max(p,0),u);return{action:(r=e.action)!=null?r:a,controlled:l,index:h,lifecycle:(o=e.lifecycle)!=null?o:k.INIT,origin:(n=e.origin)!=null?n:null,size:(i=e.size)!=null?i:u,status:h===u?F.FINISHED:(s=e.status)!=null?s:c}}getSteps(){const e=this.data.get("steps");return Array.isArray(e)?e:[]}hasUpdatedState(e){const t=JSON.stringify(e),r=JSON.stringify(this.getState());return t!==r}setState(e,t=!1){const r=this.getState(),{action:o,index:n,lifecycle:i,origin:s=null,size:a,status:l}={...r,...e};this.store.set("action",o),this.store.set("index",n),this.store.set("lifecycle",i),this.store.set("origin",s),this.store.set("size",a),this.store.set("status",l),t&&(this.store.set("controlled",e.controlled),this.store.set("continuous",e.continuous)),this.listener&&this.hasUpdatedState(r)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};function ms(e){return new hs(e)}function gs({styles:e}){return S.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:e})}var ys=gs,bs=class extends S.Component{constructor(){super(...arguments),j(this,"isActive",!1),j(this,"resizeTimeout"),j(this,"scrollTimeout"),j(this,"scrollParent"),j(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),j(this,"hideSpotlight",()=>{const{continuous:e,disableOverlay:t,lifecycle:r}=this.props,o=[k.INIT,k.BEACON,k.COMPLETE,k.ERROR];return t||(e?o.includes(r):r!==k.TOOLTIP)}),j(this,"handleMouseMove",e=>{const{mouseOverSpotlight:t}=this.state,{height:r,left:o,position:n,top:i,width:s}=this.spotlightStyles,a=n==="fixed"?e.clientY:e.pageY,l=n==="fixed"?e.clientX:e.pageX,f=a>=i&&a<=i+r,c=l>=o&&l<=o+s&&f;c!==t&&this.updateState({mouseOverSpotlight:c})}),j(this,"handleScroll",()=>{const{target:e}=this.props,t=ae(e);if(this.scrollParent!==document){const{isScrolling:r}=this.state;r||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(()=>{this.updateState({isScrolling:!1,showSpotlight:!0})},50)}else we(t,"sticky")&&this.updateState({})}),j(this,"handleResize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.isActive&&this.forceUpdate()},100)})}componentDidMount(){const{debug:e,disableScrolling:t,disableScrollParentFix:r=!1,target:o}=this.props,n=ae(o);this.scrollParent=Fe(n??document.body,r,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(e){var t;const{disableScrollParentFix:r,lifecycle:o,spotlightClicks:n,target:i}=this.props,{changed:s}=et(e,this.props);if(s("target")||s("disableScrollParentFix")){const a=ae(i);this.scrollParent=Fe(a??document.body,r,!0)}s("lifecycle",k.TOOLTIP)&&((t=this.scrollParent)==null||t.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout(()=>{const{isScrolling:a}=this.state;a||this.updateState({showSpotlight:!0})},100)),(s("spotlightClicks")||s("disableOverlay")||s("lifecycle"))&&(n&&o===k.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):o!==k.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var e;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),(e=this.scrollParent)==null||e.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:e}=this.state,{disableOverlayClose:t,placement:r,styles:o}=this.props;let n=o.overlay;return mr()&&(n=r==="center"?o.overlayLegacyCenter:o.overlayLegacy),{cursor:t?"default":"pointer",height:Ji(),pointerEvents:e?"none":"auto",...n}}get spotlightStyles(){var e,t,r;const{showSpotlight:o}=this.state,{disableScrollParentFix:n=!1,spotlightClicks:i,spotlightPadding:s=0,styles:a,target:l}=this.props,f=ae(l),u=sn(f),c=we(f),p=es(f,s,n);return{...mr()?a.spotlightLegacy:a.spotlight,height:Math.round(((e=u==null?void 0:u.height)!=null?e:0)+s*2),left:Math.round(((t=u==null?void 0:u.left)!=null?t:0)-s),opacity:o?1:0,pointerEvents:i?"none":"auto",position:c?"fixed":"absolute",top:p,transition:"opacity 0.2s",width:Math.round(((r=u==null?void 0:u.width)!=null?r:0)+s*2)}}updateState(e){this.isActive&&this.setState(t=>({...t,...e}))}render(){const{showSpotlight:e}=this.state,{onClickOverlay:t,placement:r}=this.props,{hideSpotlight:o,overlayStyles:n,spotlightStyles:i}=this;if(o())return null;let s=r!=="center"&&e&&S.createElement(ys,{styles:i});if(an()==="safari"){const{mixBlendMode:a,zIndex:l,...f}=n;s=S.createElement("div",{style:{...f}},s),delete n.backgroundColor}return S.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:t,role:"presentation",style:n},s)}},vs=class extends S.Component{constructor(){super(...arguments),j(this,"node",null)}componentDidMount(){const{id:e}=this.props;ue()&&(this.node=document.createElement("div"),this.node.id=e,document.body.appendChild(this.node),Ne||this.renderReact15())}componentDidUpdate(){ue()&&(Ne||this.renderReact15())}componentWillUnmount(){!ue()||!this.node||(Ne||Je.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!ue())return;const{children:e}=this.props;this.node&&Je.unstable_renderSubtreeIntoContainer(this,e,this.node)}renderReact16(){if(!ue()||!Ne)return null;const{children:e}=this.props;return this.node?Je.createPortal(e,this.node):null}render(){return Ne?this.renderReact16():null}},xs=class{constructor(e,t){if(j(this,"element"),j(this,"options"),j(this,"canBeTabbed",r=>{const{tabIndex:o}=r;return o===null||o<0?!1:this.canHaveFocus(r)}),j(this,"canHaveFocus",r=>{const o=/input|select|textarea|button|object/,n=r.nodeName.toLowerCase();return(o.test(n)&&!r.getAttribute("disabled")||n==="a"&&!!r.getAttribute("href"))&&this.isVisible(r)}),j(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),j(this,"handleKeyDown",r=>{const{code:o="Tab"}=this.options;r.code===o&&this.interceptTab(r)}),j(this,"interceptTab",r=>{r.preventDefault();const o=this.findValidTabElements(),{shiftKey:n}=r;if(!o.length)return;let i=document.activeElement?o.indexOf(document.activeElement):0;i===-1||!n&&i+1===o.length?i=0:n&&i===0?i=o.length-1:i+=n?-1:1,o[i].focus()}),j(this,"isHidden",r=>{const o=r.offsetWidth<=0&&r.offsetHeight<=0,n=window.getComputedStyle(r);return o&&!r.innerHTML?!0:o&&n.getPropertyValue("overflow")!=="visible"||n.getPropertyValue("display")==="none"}),j(this,"isVisible",r=>{let o=r;for(;o;)if(o instanceof HTMLElement){if(o===document.body)break;if(this.isHidden(o))return!1;o=o.parentNode}return!0}),j(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),j(this,"checkFocus",r=>{document.activeElement!==r&&(r.focus(),window.requestAnimationFrame(()=>this.checkFocus(r)))}),j(this,"setFocus",()=>{const{selector:r}=this.options;if(!r)return;const o=this.element.querySelector(r);o&&window.requestAnimationFrame(()=>this.checkFocus(o))}),!(e instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=e,this.options=t,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},ws=class extends S.Component{constructor(e){if(super(e),j(this,"beacon",null),j(this,"setBeaconRef",n=>{this.beacon=n}),e.beaconComponent)return;const t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.id="joyride-beacon-animation",e.nonce&&r.setAttribute("nonce",e.nonce),r.appendChild(document.createTextNode(`
        @keyframes joyride-beacon-inner {
          20% {
            opacity: 0.9;
          }
        
          90% {
            opacity: 0.7;
          }
        }
        
        @keyframes joyride-beacon-outer {
          0% {
            transform: scale(1);
          }
        
          45% {
            opacity: 0.7;
            transform: scale(0.75);
          }
        
          100% {
            opacity: 0.9;
            transform: scale(1);
          }
        }
      `)),t.appendChild(r)}componentDidMount(){const{shouldFocus:e}=this.props;setTimeout(()=>{T.domElement(this.beacon)&&e&&this.beacon.focus()},0)}componentWillUnmount(){const e=document.getElementById("joyride-beacon-animation");e!=null&&e.parentNode&&e.parentNode.removeChild(e)}render(){const{beaconComponent:e,continuous:t,index:r,isLastStep:o,locale:n,onClickOrHover:i,size:s,step:a,styles:l}=this.props,f=te(n.open),u={"aria-label":f,onClick:i,onMouseEnter:i,ref:this.setBeaconRef,title:f};let c;if(e){const p=e;c=S.createElement(p,{continuous:t,index:r,isLastStep:o,size:s,step:a,...u})}else c=S.createElement("button",{key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:l.beacon,type:"button",...u},S.createElement("span",{style:l.beaconInner}),S.createElement("span",{style:l.beaconOuter}));return c}};function Ss({styles:e,...t}){const{color:r,height:o,width:n,...i}=e;return A.createElement("button",{style:i,type:"button",...t},A.createElement("svg",{height:typeof o=="number"?`${o}px`:o,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:typeof n=="number"?`${n}px`:n,xmlns:"http://www.w3.org/2000/svg"},A.createElement("g",null,A.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))}var Os=Ss;function Cs(e){const{backProps:t,closeProps:r,index:o,isLastStep:n,primaryProps:i,skipProps:s,step:a,tooltipProps:l}=e,{content:f,hideBackButton:u,hideCloseButton:c,hideFooter:p,showSkipButton:h,styles:m,title:y}=a,O={};return O.primary=S.createElement("button",{"data-test-id":"button-primary",style:m.buttonNext,type:"button",...i}),h&&!n&&(O.skip=S.createElement("button",{"aria-live":"off","data-test-id":"button-skip",style:m.buttonSkip,type:"button",...s})),!u&&o>0&&(O.back=S.createElement("button",{"data-test-id":"button-back",style:m.buttonBack,type:"button",...t})),O.close=!c&&S.createElement(Os,{"data-test-id":"button-close",styles:m.buttonClose,...r}),S.createElement("div",{key:"JoyrideTooltip","aria-label":te(y??f),className:"react-joyride__tooltip",style:m.tooltip,...l},S.createElement("div",{style:m.tooltipContainer},y&&S.createElement("h1",{"aria-label":te(y),style:m.tooltipTitle},y),S.createElement("div",{style:m.tooltipContent},f)),!p&&S.createElement("div",{style:m.tooltipFooter},S.createElement("div",{style:m.tooltipFooterSpacer},O.skip),O.back,O.primary),O.close)}var Es=Cs,Ts=class extends S.Component{constructor(){super(...arguments),j(this,"handleClickBack",e=>{e.preventDefault();const{helpers:t}=this.props;t.prev()}),j(this,"handleClickClose",e=>{e.preventDefault();const{helpers:t}=this.props;t.close("button_close")}),j(this,"handleClickPrimary",e=>{e.preventDefault();const{continuous:t,helpers:r}=this.props;if(!t){r.close("button_primary");return}r.next()}),j(this,"handleClickSkip",e=>{e.preventDefault();const{helpers:t}=this.props;t.skip()}),j(this,"getElementsProps",()=>{const{continuous:e,index:t,isLastStep:r,setTooltipRef:o,size:n,step:i}=this.props,{back:s,close:a,last:l,next:f,nextLabelWithProgress:u,skip:c}=i.locale,p=te(s),h=te(a),m=te(l),y=te(f),O=te(c);let v=a,b=h;if(e){if(v=f,b=y,i.showProgress&&!r){const C=te(u,{step:t+1,steps:n});v=wt(u,t+1,n),b=C}r&&(v=l,b=m)}return{backProps:{"aria-label":p,children:s,"data-action":"back",onClick:this.handleClickBack,role:"button",title:p},closeProps:{"aria-label":h,children:a,"data-action":"close",onClick:this.handleClickClose,role:"button",title:h},primaryProps:{"aria-label":b,children:v,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:b},skipProps:{"aria-label":O,children:c,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:O},tooltipProps:{"aria-modal":!0,ref:o,role:"alertdialog"}}})}render(){const{continuous:e,index:t,isLastStep:r,setTooltipRef:o,size:n,step:i}=this.props,{beaconComponent:s,tooltipComponent:a,...l}=i;let f;if(a){const u={...this.getElementsProps(),continuous:e,index:t,isLastStep:r,size:n,step:l,setTooltipRef:o},c=a;f=S.createElement(c,{...u})}else f=S.createElement(Es,{...this.getElementsProps(),continuous:e,index:t,isLastStep:r,size:n,step:i});return f}},js=class extends S.Component{constructor(){super(...arguments),j(this,"scope",null),j(this,"tooltip",null),j(this,"handleClickHoverBeacon",e=>{const{step:t,store:r}=this.props;e.type==="mouseenter"&&t.event!=="hover"||r.update({lifecycle:k.TOOLTIP})}),j(this,"setTooltipRef",e=>{this.tooltip=e}),j(this,"setPopper",(e,t)=>{var r;const{action:o,lifecycle:n,step:i,store:s}=this.props;t==="wrapper"?s.setPopper("beacon",e):s.setPopper("tooltip",e),s.getPopper("beacon")&&(s.getPopper("tooltip")||i.placement==="center")&&n===k.INIT&&s.update({action:o,lifecycle:k.READY}),(r=i.floaterProps)!=null&&r.getPopper&&i.floaterProps.getPopper(e,t)}),j(this,"renderTooltip",e=>{const{continuous:t,helpers:r,index:o,size:n,step:i}=this.props;return S.createElement(Ts,{continuous:t,helpers:r,index:o,isLastStep:o+1===n,setTooltipRef:this.setTooltipRef,size:n,step:i,...e})})}componentDidMount(){const{debug:e,index:t}=this.props;he({title:`step:${t}`,data:[{key:"props",value:this.props}],debug:e})}componentDidUpdate(e){var t;const{action:r,callback:o,continuous:n,controlled:i,debug:s,helpers:a,index:l,lifecycle:f,shouldScroll:u,status:c,step:p,store:h}=this.props,{changed:m,changedFrom:y}=et(e,this.props),O=a.info(),v=n&&r!==_.CLOSE&&(l>0||r===_.PREV),b=m("action")||m("index")||m("lifecycle")||m("status"),C=y("lifecycle",[k.TOOLTIP,k.INIT],k.INIT),B=m("action",[_.NEXT,_.PREV,_.SKIP,_.CLOSE]),I=i&&l===e.index;if(B&&(C||I)&&o({...O,index:e.index,lifecycle:k.COMPLETE,step:e.step,type:J.STEP_AFTER}),p.placement==="center"&&c===F.RUNNING&&m("index")&&r!==_.START&&f===k.INIT&&h.update({lifecycle:k.READY}),b){const w=ae(p.target),N=!!w;N&&Qi(w)?(y("status",F.READY,F.RUNNING)||y("lifecycle",k.INIT,k.READY))&&o({...O,step:p,type:J.STEP_BEFORE}):(console.warn(N?"Target not visible":"Target not mounted",p),o({...O,type:J.TARGET_NOT_FOUND,step:p}),i||h.update({index:l+(r===_.PREV?-1:1)}))}y("lifecycle",k.INIT,k.READY)&&h.update({lifecycle:hr(p)||v?k.TOOLTIP:k.BEACON}),m("index")&&he({title:`step:${f}`,data:[{key:"props",value:this.props}],debug:s}),m("lifecycle",k.BEACON)&&o({...O,step:p,type:J.BEACON}),m("lifecycle",k.TOOLTIP)&&(o({...O,step:p,type:J.TOOLTIP}),u&&this.tooltip&&(this.scope=new xs(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),y("lifecycle",[k.TOOLTIP,k.INIT],k.INIT)&&((t=this.scope)==null||t.removeScope(),h.cleanupPoppers())}componentWillUnmount(){var e;(e=this.scope)==null||e.removeScope()}get open(){const{lifecycle:e,step:t}=this.props;return hr(t)||e===k.TOOLTIP}render(){const{continuous:e,debug:t,index:r,nonce:o,shouldScroll:n,size:i,step:s}=this.props,a=ae(s.target);return!un(s)||!T.domElement(a)?null:S.createElement("div",{key:`JoyrideStep-${r}`,className:"react-joyride__step"},S.createElement(Rt,{...s.floaterProps,component:this.renderTooltip,debug:t,getPopper:this.setPopper,id:`react-joyride-step-${r}`,open:this.open,placement:s.placement,target:s.target},S.createElement(ws,{beaconComponent:s.beaconComponent,continuous:e,index:r,isLastStep:r+1===i,locale:s.locale,nonce:o,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:n,size:i,step:s,styles:s.styles})))}},dn=class extends S.Component{constructor(e){super(e),j(this,"helpers"),j(this,"store"),j(this,"callback",s=>{const{callback:a}=this.props;T.function(a)&&a(s)}),j(this,"handleKeyboard",s=>{const{index:a,lifecycle:l}=this.state,{steps:f}=this.props,u=f[a];l===k.TOOLTIP&&s.code==="Escape"&&u&&!u.disableCloseOnEsc&&this.store.close("keyboard")}),j(this,"handleClickOverlay",()=>{const{index:s}=this.state,{steps:a}=this.props;ye(this.props,a[s]).disableOverlayClose||this.helpers.close("overlay")}),j(this,"syncState",s=>{this.setState(s)});const{debug:t,getHelpers:r,run:o=!0,stepIndex:n}=e;this.store=ms({...e,controlled:o&&T.number(n)}),this.helpers=this.store.getHelpers();const{addListener:i}=this.store;he({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:t}),i(this.syncState),r&&r(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!ue())return;const{debug:e,disableCloseOnEsc:t,run:r,steps:o}=this.props,{start:n}=this.store;yr(o,e)&&r&&n(),t||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(e,t){if(!ue())return;const{action:r,controlled:o,index:n,status:i}=this.state,{debug:s,run:a,stepIndex:l,steps:f}=this.props,{stepIndex:u,steps:c}=e,{reset:p,setSteps:h,start:m,stop:y,update:O}=this.store,{changed:v}=et(e,this.props),{changed:b,changedFrom:C}=et(t,this.state),B=ye(this.props,f[n]),I=!V(c,f),w=T.number(l)&&v("stepIndex"),N=ae(B.target);if(I&&(yr(f,s)?h(f):console.warn("Steps are not valid",f)),v("run")&&(a?m(l):y()),w){let $=T.number(u)&&u<l?_.NEXT:_.PREV;r===_.STOP&&($=_.START),[F.FINISHED,F.SKIPPED].includes(i)||O({action:r===_.CLOSE?_.CLOSE:$,index:l,lifecycle:k.INIT})}!o&&i===F.RUNNING&&n===0&&!N&&(this.store.update({index:n+1}),this.callback({...this.state,type:J.TARGET_NOT_FOUND,step:B}));const D={...this.state,index:n,step:B};if(b("action",[_.NEXT,_.PREV,_.SKIP,_.CLOSE])&&b("status",F.PAUSED)){const $=ye(this.props,f[t.index]);this.callback({...D,index:t.index,lifecycle:k.COMPLETE,step:$,type:J.STEP_AFTER})}if(b("status",[F.FINISHED,F.SKIPPED])){const $=ye(this.props,f[t.index]);o||this.callback({...D,index:t.index,lifecycle:k.COMPLETE,step:$,type:J.STEP_AFTER}),this.callback({...D,type:J.TOUR_END,step:$,index:t.index}),p()}else C("status",[F.IDLE,F.READY],F.RUNNING)?this.callback({...D,type:J.TOUR_START}):(b("status")||b("action",_.RESET))&&this.callback({...D,type:J.TOUR_STATUS});this.scrollToStep(t)}componentWillUnmount(){const{disableCloseOnEsc:e}=this.props;e||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(e){const{index:t,lifecycle:r,status:o}=this.state,{debug:n,disableScrollParentFix:i=!1,scrollDuration:s,scrollOffset:a=20,scrollToFirstStep:l=!1,steps:f}=this.props,u=ye(this.props,f[t]),c=ae(u.target),p=as({isFirstStep:t===0,lifecycle:r,previousLifecycle:e.lifecycle,scrollToFirstStep:l,step:u,target:c});if(o===F.RUNNING&&p){const h=at(c,i),m=Fe(c,i);let y=Math.floor(ts(c,a,i))||0;he({title:"scrollToStep",data:[{key:"index",value:t},{key:"lifecycle",value:r},{key:"status",value:o}],debug:n});const O=this.store.getPopper("beacon"),v=this.store.getPopper("tooltip");if(r===k.BEACON&&O){const{offsets:b,placement:C}=O;!["bottom"].includes(C)&&!h&&(y=Math.floor(b.popper.top-a))}else if(r===k.TOOLTIP&&v){const{flipped:b,offsets:C,placement:B}=v;["top","right","left"].includes(B)&&!b&&!h?y=Math.floor(C.popper.top-a):y-=u.spotlightPadding}y=y>=0?y:0,o===F.RUNNING&&rs(y,{element:m,duration:s}).then(()=>{setTimeout(()=>{var b;(b=this.store.getPopper("tooltip"))==null||b.instance.update()},10)})}}render(){if(!ue())return null;const{index:e,lifecycle:t,status:r}=this.state,{continuous:o=!1,debug:n=!1,nonce:i,scrollToFirstStep:s=!1,steps:a}=this.props,l=r===F.RUNNING,f={};if(l&&a[e]){const u=ye(this.props,a[e]);f.step=S.createElement(js,{...this.state,callback:this.callback,continuous:o,debug:n,helpers:this.helpers,nonce:i,shouldScroll:!u.disableScrolling&&(e!==0||s),step:u,store:this.store}),f.overlay=S.createElement(vs,{id:"react-joyride-portal"},S.createElement(bs,{...u,continuous:o,debug:n,lifecycle:t,onClickOverlay:this.handleClickOverlay}))}return S.createElement("div",{className:"react-joyride"},f.step,f.overlay)}};j(dn,"defaultProps",us);var Ps=dn,kt=({run:e,onFinish:t,steps:r,tourType:o})=>{const n=Wn(),i=S.useCallback(a=>{const{status:l}=a;(l===F.FINISHED||l===F.SKIPPED)&&(t==null||t(),localStorage.setItem(`guidedTour_${o}_completed`,"true"))},[t,o]),s={options:{primaryColor:n.palette.primary.main,backgroundColor:n.palette.background.paper,textColor:n.palette.text.primary,arrowColor:n.palette.background.paper,overlayColor:"rgba(0, 0, 0, 0.5)",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",zIndex:1e4},tooltip:{borderRadius:n.shape.borderRadius,padding:n.spacing(2)},tooltipContainer:{textAlign:"left"},tooltipTitle:{fontSize:"1.2rem",marginBottom:n.spacing(1)},tooltipContent:{fontSize:"1rem",lineHeight:1.6},buttonNext:{backgroundColor:n.palette.primary.main,borderRadius:n.shape.borderRadius,color:n.palette.primary.contrastText,fontSize:"0.875rem",padding:`${n.spacing(1)} ${n.spacing(2)}`},buttonBack:{color:n.palette.text.secondary,fontSize:"0.875rem",marginRight:n.spacing(1)},buttonSkip:{color:n.palette.text.secondary,fontSize:"0.875rem"},buttonClose:{display:"none"}};return d.jsx(Ps,{steps:r,run:e,continuous:!0,showSkipButton:!0,showProgress:!0,styles:s,callback:i,floaterProps:{disableAnimation:!1},locale:{back:"Back",close:"Close",last:"Finish",next:"Next",skip:"Skip"}})},Rs=()=>d.jsxs(Be,{sx:{padding:"32px 32px 20px 32px",textAlign:"center",backgroundColor:e=>e.palette.mode==="dark"?e.palette.grey[900]:"#f5f5f5",minWidth:500,maxWidth:600,minHeight:360,maxHeight:600},children:[d.jsx(Lt,{style:{fontSize:"2rem",marginBottom:"1rem",marginTop:"5rem"},variant:"h1",children:"Welcome to HierarchiDB! 🎉"}),d.jsx(Lt,{sx:{fontSize:"1.1rem",lineHeight:1.6,marginBottom:"2rem",color:"text.secondary"},children:"HierarchiDB is a powerful tree-structured data management system. This guided tour will help you understand the main features and navigation."})]}),ks=({run:e,onFinish:t})=>{const r=[{target:"body",content:d.jsx(Rs,{}),placement:"center",disableBeacon:!0,styles:{options:{width:"auto"},tooltip:{padding:0,backgroundColor:"transparent",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",borderRadius:"20px"},tooltipContent:{padding:0}}},{target:'[aria-label="tree selection"]',content:d.jsxs("div",{children:[d.jsx("h3",{children:"Tree Navigation 🌳"}),d.jsx("p",{children:"Use these toggle buttons to switch between different trees. Each tree represents a separate data hierarchy."})]}),placement:"bottom"},{target:'[aria-label="User menu"], [data-testid="user-login-button"]',content:d.jsxs("div",{children:[d.jsx("h3",{children:"User Account 👤"}),d.jsx("p",{children:document.querySelector('[data-testid="user-login-button"]')?"Click here to log in to your account and access personalized features.":"Your account menu - manage your profile and settings."})]}),placement:"bottom"},{target:'[aria-label="Tree console toolbar"]',content:d.jsxs("div",{children:[d.jsx("h3",{children:"Toolbar Actions 🔧"}),d.jsx("p",{children:"The toolbar provides quick access to common actions like creating new nodes, editing, deleting, and managing your tree data."})]}),placement:"bottom"},{target:'[aria-label="Create Action"]',content:d.jsxs("div",{children:[d.jsx("h3",{children:"Quick Create ⚡"}),d.jsx("p",{children:"Use the floating action button to quickly create new items in your tree. This is the fastest way to add new data."})]}),placement:"left"}];return d.jsx(kt,{run:e,onFinish:t,steps:r,tourType:"mainTour"})},Is=({run:e,onFinish:t})=>{const r=[{target:"body",content:d.jsxs("div",{style:{textAlign:"center",padding:"20px",minWidth:"400px"},children:[d.jsx("h2",{children:"Welcome to Projects! 🗺️"}),d.jsx("p",{style:{marginBottom:"16px"},children:"Projects combine multiple resources to create interactive maps and visualizations."}),d.jsx("p",{children:"This guided tour will help you understand how to navigate and manage your projects effectively."})]}),placement:"center",disableBeacon:!0,styles:{tooltip:{borderRadius:"20px"}}},{target:'[title="Back to Home"]',content:d.jsxs("div",{children:[d.jsx("h3",{children:"Navigation - Home 🏠"}),d.jsx("p",{children:"Click this icon button in the top-left corner to return to the home screen at any time."})]}),placement:"bottom",disableBeacon:!0},{target:'[aria-label="tree selection"]',content:d.jsxs("div",{children:[d.jsx("h3",{children:"Navigation - Tree Switcher 🔄"}),d.jsx("p",{children:"Use this toggle in the top bar to switch between different trees. You're currently in the Projects tree view."})]}),placement:"bottom",disableBeacon:!0},{target:'[role="navigation"][aria-label="breadcrumb"]',content:d.jsxs("div",{children:[d.jsx("h3",{children:"Hierarchical Navigation 📍"}),d.jsx("p",{children:"This app manages Projects in a hierarchical folder structure. The breadcrumb shows your current location in the hierarchy."}),d.jsx("p",{style:{marginTop:8},children:"• Click any breadcrumb item to navigate to that level"}),d.jsx("p",{children:"• Click the icon next to a breadcrumb item to open a context menu with operations for that node"})]}),placement:"bottom",disableBeacon:!0},{target:'[aria-label="Tree console toolbar"]',content:d.jsxs("div",{children:[d.jsx("h3",{children:"Project Management Toolbar 🔧"}),d.jsx("p",{children:"The toolbar above the tree view provides tools to edit and manage your projects. You can create folders to organize your projects effectively. Features to undo/redo, copy/paste, duplicate/remove, and manage trash-bin are available."})]}),placement:"bottom",disableBeacon:!0},{target:'[aria-label="Create Action"]',content:d.jsxs("div",{children:[d.jsx("h3",{children:"Quick Actions ⚡"}),d.jsx("p",{children:"Use the floating action button to quickly create new projects:"}),d.jsxs("ul",{style:{textAlign:"left",paddingLeft:20},children:[d.jsx("li",{children:"Create a new project"}),d.jsx("li",{children:"Create folders to organize projects"})]})]}),placement:"left",disableBeacon:!0},{target:'[aria-label="Import and export options"]',content:d.jsxs("div",{children:[d.jsx("h3",{children:"Import & Export 📤📥"}),d.jsx("p",{children:"In the toolbar, you'll find an import/export button that allows you to:"}),d.jsxs("ul",{style:{textAlign:"left",paddingLeft:20},children:[d.jsx("li",{children:"Import projects from ZIP files"}),d.jsx("li",{children:"Export your projects to share with others"})]})]}),placement:"left",disableBeacon:!0}];return d.jsx(kt,{run:e,onFinish:t,steps:r,tourType:"projectsTour"})},Ns=({run:e,onFinish:t})=>{const r=[{target:"body",content:d.jsxs("div",{style:{textAlign:"center",padding:"20px",minWidth:"400px"},children:[d.jsx("h2",{children:"Welcome to Resources! 📊"}),d.jsx("p",{style:{marginBottom:"16px"},children:"Resources contain your data that can be visualized and analyzed. You can import various data formats and organize them hierarchically."}),d.jsx("p",{children:"This guided tour will help you understand how to manage and utilize your resources effectively."})]}),placement:"center",disableBeacon:!0,styles:{tooltip:{borderRadius:"20px"}}},{target:'[title="Back to Home"]',content:d.jsxs("div",{children:[d.jsx("h3",{children:"Navigation - Home 🏠"}),d.jsx("p",{children:"Click this icon button in the top-left corner to return to the home screen at any time."})]}),placement:"bottom",disableBeacon:!0},{target:'[aria-label="tree selection"]',content:d.jsxs("div",{children:[d.jsx("h3",{children:"Navigation - Tree Switcher 🔄"}),d.jsx("p",{children:"Use this toggle to switch between different tree views. You're currently viewing the Resources tree."})]}),placement:"bottom",disableBeacon:!0},{target:'[role="navigation"][aria-label="breadcrumb"]',content:d.jsxs("div",{children:[d.jsx("h3",{children:"Hierarchical Navigation 📍"}),d.jsx("p",{children:"Resources are organized in a hierarchical structure. The breadcrumb shows your current location."}),d.jsx("p",{style:{marginTop:8},children:"• Navigate by clicking breadcrumb items"}),d.jsx("p",{children:"• Access context menus for quick actions"})]}),placement:"bottom",disableBeacon:!0},{target:'[aria-label="Tree console toolbar"]',content:d.jsxs("div",{children:[d.jsx("h3",{children:"Resource Management Toolbar 🔧"}),d.jsx("p",{children:"The toolbar provides essential tools for managing your resources:"}),d.jsxs("ul",{style:{textAlign:"left",paddingLeft:20},children:[d.jsx("li",{children:"Create new resources and folders"}),d.jsx("li",{children:"Edit and organize existing data"}),d.jsx("li",{children:"Search and filter capabilities"}),d.jsx("li",{children:"Undo/redo operations"})]})]}),placement:"bottom",disableBeacon:!0},{target:'[aria-label="Create Action"]',content:d.jsxs("div",{children:[d.jsx("h3",{children:"Quick Resource Creation ⚡"}),d.jsx("p",{children:"The floating action button allows you to:"}),d.jsxs("ul",{style:{textAlign:"left",paddingLeft:20},children:[d.jsx("li",{children:"Create new data resources"}),d.jsx("li",{children:"Import CSV, JSON, or other data formats"}),d.jsx("li",{children:"Create organizational folders"})]})]}),placement:"left",disableBeacon:!0},{target:'[aria-label="Import and export options"]',content:d.jsxs("div",{children:[d.jsx("h3",{children:"Data Import & Export 📤📥"}),d.jsx("p",{children:"Powerful import/export capabilities:"}),d.jsxs("ul",{style:{textAlign:"left",paddingLeft:20},children:[d.jsx("li",{children:"Import data from various formats (CSV, JSON, XML)"}),d.jsx("li",{children:"Use templates for quick setup"}),d.jsx("li",{children:"Export selected resources for backup or sharing"})]})]}),placement:"left",disableBeacon:!0},{target:'[data-testid="tree-table"]',content:d.jsxs("div",{children:[d.jsx("h3",{children:"Resource Table View 📋"}),d.jsx("p",{children:"The table view displays your resources with:"}),d.jsxs("ul",{style:{textAlign:"left",paddingLeft:20},children:[d.jsx("li",{children:"Sortable columns for easy organization"}),d.jsx("li",{children:"Multi-select for batch operations"}),d.jsx("li",{children:"Expandable rows for hierarchical data"}),d.jsx("li",{children:"Right-click context menus for quick actions"})]})]}),placement:"top",disableBeacon:!0}];return d.jsx(kt,{run:e,onFinish:t,steps:r,tourType:"resourcesTour"})};const Vs=({treeId:e,pageTreeNodeId:t,pageTreeNode:r})=>{var R,P;const o=pn(),n=hn(),[i,s]=S.useState(!1),[a,l]=S.useState(!1),{workerClient:f,loading:u,error:c,treeData:p,columns:h,breadcrumbItems:m,selectedIds:y,expandedIds:O,searchTerm:v,viewMode:b,canCreate:C,canEdit:B,canDelete:I,actions:w,state:N}=ro({pageTreeNodeId:t,pageTreeNode:r});S.useEffect(()=>{(async()=>{if(f&&e)try{const U=f.getAPI(),G=await U.getTree({treeId:e});if(G!=null&&G.treeTrashRootNodeId){const oe=await U.getChildren({parentTreeNodeId:G.treeTrashRootNodeId});l(oe.length>0)}}catch(U){console.error("Failed to check trash items:",U)}})()},[f,e]);const D=S.useCallback((L,U)=>{var oe,ge,ie,Ge,It,Nt,At,Bt;const G=t||"root";switch(L){case"restore":n(`/t/${e}/${G}/trash/recover`);break;case"empty":n(`/t/${e}/${G}/trash/delete`);break;case"undo":(oe=w.handleUndo)==null||oe.call(w);break;case"redo":(ge=w.handleRedo)==null||ge.call(w);break;case"copy":(ie=w.handleCopy)==null||ie.call(w);break;case"paste":(Ge=w.handlePaste)==null||Ge.call(w);break;case"duplicate":(It=w.handleDuplicate)==null||It.call(w);break;case"remove":(Nt=w.handleDelete)==null||Nt.call(w);break;case"import":(At=w.handleImport)==null||At.call(w);break;case"export":(Bt=w.handleExport)==null||Bt.call(w);break;default:console.log("Unhandled toolbar action:",L,U)}},[n,e,t,w]),H=S.useCallback(()=>{s(!1)},[]);if(u)return d.jsx(Be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",minHeight:400},children:d.jsx(vn,{})});if(c)return d.jsx(Be,{sx:{p:2},children:d.jsxs($t,{severity:"error",children:["Failed to initialize TreeConsole: ",c]})});if(!f)return d.jsx(Be,{sx:{p:2},children:d.jsx($t,{severity:"warning",children:"Worker client not available"})});const $=()=>{var U,G;const L=o.pathname.toLowerCase();return L.includes("/projects")||(U=r==null?void 0:r.name)!=null&&U.toLowerCase().includes("project")?d.jsx(Is,{run:i,onFinish:H}):L.includes("/resources")||(G=r==null?void 0:r.name)!=null&&G.toLowerCase().includes("resource")?d.jsx(Ns,{run:i,onFinish:H}):d.jsx(ks,{run:i,onFinish:H})};return d.jsxs(Be,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[$(),d.jsx(eo,{isProjectsPage:(R=r==null?void 0:r.name)==null?void 0:R.toLowerCase().includes("project"),isResourcesPage:(P=r==null?void 0:r.name)==null?void 0:P.toLowerCase().includes("resource"),controller:{searchText:v,handleSearchTextChange:w.handleSearchChange},hasTrashItems:a,onAction:D,rowClickAction:"Select",canUndo:N.canUndo||!1,canRedo:N.canRedo||!1,canCopy:y.length>0,canPaste:N.canPaste||!1,canDuplicate:y.length>0,canRemove:I&&y.length>0}),d.jsx(Dn,{title:`Tree: ${(r==null?void 0:r.name)||"Root"}`,rootNodeId:t,data:p,columns:h,breadcrumbItems:m,loading:N.loading,error:N.error||void 0,selectedIds:y,expandedIds:O,searchTerm:v,sortBy:N.sortBy,sortDirection:N.sortDirection,filterBy:N.filterBy,availableFilters:N.availableFilters,viewMode:b,canCreate:C,canEdit:B,canDelete:I,showNavigationButtons:!0,dense:!1,onNodeClick:w.handleNodeClick,onNodeSelect:w.handleNodeSelect,onNodeExpand:w.handleNodeExpand,onSearchChange:w.handleSearchChange,onSearchClear:w.handleSearchClear,onCreate:w.handleCreate,onEdit:w.handleEdit,onDelete:w.handleDelete,onRefresh:w.handleRefresh,onExpandAll:w.handleExpandAll,onCollapseAll:w.handleCollapseAll,onSort:w.handleSort,onFilterChange:w.handleFilterChange,onViewModeChange:w.handleViewModeChange,onBreadcrumbNavigate:w.handleBreadcrumbNavigate,onNavigateBack:w.handleNavigateBack,onNavigateForward:w.handleNavigateForward,canGoBack:N.canGoBack,canGoForward:N.canGoForward,onContextMenuAction:w.handleContextMenuAction})]})};export{qs as M,Gs as T,Hs as a,Vs as b};
