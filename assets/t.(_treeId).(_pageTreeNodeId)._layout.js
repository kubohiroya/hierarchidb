import{w as j,b as I,u as N,r as a,O as v}from"./vendor-react-BP9jdMJE.js";import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{a as C}from"./loader-D5if6doL.js";import{T as y,a as S,M as _,b as w}from"./TreeConsoleIntegration-Bm5uQwiG.js";import{S as b,U as A}from"./index-C9Ezzdro.js";import{W as B}from"./index-SzJX3EJy.js";import{B as s,T as L,C as P}from"./Box-zDrc8-aq.js";import{A as z,T as E}from"./Toolbar-CLindvYh.js";import{F as k,A as F}from"./Folder-CIpXYxUK.js";import"./assertThisInitialized-C6AqJUPC.js";import"./createSimplePaletteValueFilter-BuD9q6B8.js";import"./index-CyZumM2T.js";import"./useThemeWithoutDefault-B_xv69Jx.js";import"./TransitionGroup-wYxCXXF3.js";import"./treeNodeConverter-aJJwZjp1.js";import"./index-LrBs_WFz.js";import"./Paper-hI1Q5KHP.js";import"./Alert-C-Br81AU.js";import"./useSlot-Cr8mcnhD.js";import"./IconButton-DRvuffCM.js";import"./useThemeProps-BB4YCwI3.js";import"./i18n-6N6UC6AY-BJA6as56.js";async function ie(i){return await C(i.params)}const ne=j(function(){var c,d,p,m,x;const r=I(),u=N(),[g,f]=a.useState([]),[n,l]=a.useState(((c=r.pageTreeNode)==null?void 0:c.treeId)||"");a.useEffect(()=>{(async()=>{try{const h=await(await B.getSingleton()).getAPI().getTrees();f(h)}catch(t){console.error("Failed to load trees:",t)}})()},[]),a.useEffect(()=>{var o;(o=r.pageTreeNode)!=null&&o.treeId&&l(r.pageTreeNode.treeId)},[(d=r.pageTreeNode)==null?void 0:d.treeId]);const T=(o,t)=>{t&&t!==n&&(l(t),u(`/t/${t}`))};return e.jsxs(s,{sx:{height:"100vh",display:"flex",flexDirection:"column"},children:[e.jsx(z,{position:"static",color:"default",elevation:1,children:e.jsxs(E,{children:[e.jsx(L,{variant:"h6",component:"div",sx:{flexGrow:0,mr:3},children:((p=r.pageTreeNode)==null?void 0:p.name)||"Tree Console"}),e.jsx(b,{direction:"row",spacing:2,sx:{flexGrow:1},children:e.jsx(y,{value:n,exclusive:!0,onChange:T,"aria-label":"tree selection",size:"small",children:g.map(o=>e.jsxs(S,{value:o.treeId,"aria-label":o.name,children:[o.name.toLowerCase().includes("project")?e.jsx(k,{sx:{mr:1,fontSize:20}}):o.name.toLowerCase().includes("resource")?e.jsx(_,{sx:{mr:1,fontSize:20}}):e.jsx(F,{sx:{mr:1,fontSize:20}}),o.name]},o.treeId))})}),e.jsx(s,{sx:{ml:"auto"},children:e.jsx(A,{})})]})}),e.jsx(s,{sx:{flex:1,overflow:"hidden"},children:e.jsx(a.Suspense,{fallback:e.jsx(s,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:e.jsx(P,{})}),children:e.jsx(w,{treeId:(m=r.pageTreeNode)==null?void 0:m.treeId,pageTreeNodeId:(x=r.pageTreeNode)==null?void 0:x.treeNodeId,pageTreeNode:r.pageTreeNode})})}),e.jsx(v,{})]})});export{ie as clientLoader,ne as default};
