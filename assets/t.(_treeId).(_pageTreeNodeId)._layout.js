import{w as I,b as N,u as v,r as a,O as y}from"./vendor-react-BP9jdMJE.js";import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{a as C}from"./loader-Ccba733m.js";import{T as S,a as _,M as w,b}from"./TreeConsoleIntegration-9dx9b8cZ.js";import{S as A,U as B}from"./index-C9Ezzdro.js";import{T,W as L}from"./index-DbUbEqh-.js";import{B as i,T as P,C as z}from"./Box-zDrc8-aq.js";import{A as E,T as k}from"./Toolbar-CLindvYh.js";import{F,A as G}from"./Folder-CIpXYxUK.js";import"./assertThisInitialized-C6AqJUPC.js";import"./createSimplePaletteValueFilter-BuD9q6B8.js";import"./index-CyZumM2T.js";import"./useThemeWithoutDefault-B_xv69Jx.js";import"./TransitionGroup-wYxCXXF3.js";import"./treeNodeConverter-aJJwZjp1.js";import"./index-LrBs_WFz.js";import"./Paper-hI1Q5KHP.js";import"./Alert-C-Br81AU.js";import"./useSlot-Cr8mcnhD.js";import"./IconButton-DRvuffCM.js";import"./useThemeProps-BB4YCwI3.js";import"./i18n-6N6UC6AY-BJA6as56.js";async function ne(d){const o=d.params,s=o.pageTreeNodeId||o.treeId+T.Root,n=s==="undefined"?o.treeId+T.Root:s;return await C({...o,pageTreeNodeId:n})}const de=I(function(){var p,m,x,g,u;const o=N(),s=v(),[n,f]=a.useState([]),[l,c]=a.useState(((p=o.pageTreeNode)==null?void 0:p.treeId)||"");a.useEffect(()=>{(async()=>{try{const j=await(await L.getSingleton()).getAPI().getTrees();f(j)}catch(t){console.error("Failed to load trees:",t)}})()},[]),a.useEffect(()=>{var r;(r=o.pageTreeNode)!=null&&r.treeId&&c(o.pageTreeNode.treeId)},[(m=o.pageTreeNode)==null?void 0:m.treeId]);const h=(r,t)=>{t&&t!==l&&(c(t),s(`/t/${t}`))};return e.jsxs(i,{sx:{height:"100vh",display:"flex",flexDirection:"column"},children:[e.jsx(E,{position:"static",color:"default",elevation:1,children:e.jsxs(k,{children:[e.jsx(P,{variant:"h6",component:"div",sx:{flexGrow:0,mr:3},children:((x=o.pageTreeNode)==null?void 0:x.name)||"Tree Console"}),e.jsx(A,{direction:"row",spacing:2,sx:{flexGrow:1},children:e.jsx(S,{value:l,exclusive:!0,onChange:h,"aria-label":"tree selection",size:"small",children:n.map(r=>e.jsxs(_,{value:r.treeId,"aria-label":r.name,children:[r.name.toLowerCase().includes("project")?e.jsx(F,{sx:{mr:1,fontSize:20}}):r.name.toLowerCase().includes("resource")?e.jsx(w,{sx:{mr:1,fontSize:20}}):e.jsx(G,{sx:{mr:1,fontSize:20}}),r.name]},r.treeId))})}),e.jsx(i,{sx:{ml:"auto"},children:e.jsx(B,{})})]})}),e.jsx(i,{sx:{flex:1,overflow:"hidden"},children:e.jsx(a.Suspense,{fallback:e.jsx(i,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:e.jsx(z,{})}),children:e.jsx(b,{treeId:(g=o.pageTreeNode)==null?void 0:g.treeId,pageTreeNodeId:(u=o.pageTreeNode)==null?void 0:u.treeNodeId,pageTreeNode:o.pageTreeNode})})}),e.jsx(y,{})]})});export{ne as clientLoader,de as default};
